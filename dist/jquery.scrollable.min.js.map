{"version":3,"file":"jquery.scrollable.min.js","mappings":"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","sources":["webpack://jq-scrollable/webpack/universalModuleDefinition","webpack://jq-scrollable/external umd \"jQuery\"","webpack://jq-scrollable/webpack/bootstrap","webpack://jq-scrollable/./index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jq-scrollable\", [\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jq-scrollable\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"jq-scrollable\"] = factory(root[\"jQuery\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__786__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__786__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const $ = require('jquery');\r\n\r\n(function () {\r\n    const zeroMomentum = {\r\n        dist: 0,\r\n        time: 0\r\n    };\r\n    const zeroSize = {\r\n        width: 0,\r\n        height: 0\r\n    };\r\n    const zeroOrigin = {\r\n        percentX: 0,\r\n        percentY: 0,\r\n        offsetX: 0,\r\n        offsetY: 0\r\n    };\r\n    const zeroOffset = {\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0\r\n    };\r\n    const originKeyword = {\r\n        center: 0.5,\r\n        right: 1,\r\n        bottom: 1\r\n    };\r\n    const pMargin = [\r\n        'marginTop',\r\n        'marginRight',\r\n        'marginBottom',\r\n        'marginLeft'\r\n    ];\r\n    const pPadding = [\r\n        'paddingTop',\r\n        'paddingRight',\r\n        'paddingBottom',\r\n        'paddingLeft'\r\n    ];\r\n    const pBorder = [\r\n        'borderTopWidth',\r\n        'borderRightWidth',\r\n        'borderBottomWidth',\r\n        'borderLeftWidth'\r\n    ];\r\n    const pScrollPadding = [\r\n        'scrollPaddingTop',\r\n        'scrollPaddingRight',\r\n        'scrollPaddingBottom',\r\n        'scrollPaddingLeft'\r\n    ];\r\n    const hasSubpixel = (window.devicePixelRatio || 1) !== 1;\r\n    const mround = hasSubpixel ? function (r) {\r\n        return ((r * 2) | 0) / 2;\r\n    } : function (r) {\r\n        return r >> 0;\r\n    };\r\n    const array = Array.prototype;\r\n    const m = Math;\r\n\r\n    const vendor = /webkit/i.test(navigator.appVersion) ? 'webkit' : /firefox/i.test(navigator.userAgent) ? 'Moz' : /trident/i.test(navigator.userAgent) ? 'ms' : window.opera ? 'O' : '';\r\n\r\n    // browser capabilities\r\n    const isAndroid = /android/gi.test(navigator.appVersion);\r\n\r\n    const DOMMatrix = window.DOMMatrix || window.WebKitCSSMatrix || window.MSCSSMatrix;\r\n    const root = document.documentElement;\r\n    const hasTransform3d = DOMMatrix && (new DOMMatrix()).m11 !== undefined;\r\n    const hasTransform = hasTransform3d || root.style[vendor + 'Transform'] !== undefined;\r\n\r\n    // value helpers\r\n    const trnOpen = 'translate' + (hasTransform3d ? '3d(' : '(');\r\n    const trnClose = hasTransform3d ? ',0)' : ')';\r\n    const translate = function (x, y) {\r\n        return trnOpen + x + ',' + y + trnClose;\r\n    };\r\n    const pc = function (v) {\r\n        return (v || 0).toFixed(5) + '%';\r\n    };\r\n    const px = function (v) {\r\n        return (v || 0) + 'px';\r\n    };\r\n    const cssvar = isCSSVarSupported() ? function (varname, value) {\r\n        return 'var(--jqs-' + varname + ', ' + value + ')';\r\n    } : function (_, value) {\r\n        return value;\r\n    };\r\n    const coalesce = function (v, def) {\r\n        return v === undefined ? def : v;\r\n    };\r\n\r\n    // events\r\n    const EV_RESIZE = 'orientationchange resize';\r\n    const EV_WHEEL = 'onwheel' in window ? 'wheel' : vendor === 'Moz' ? 'DOMMouseScroll' : 'mousewheel';\r\n\r\n    const nextFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\r\n        return setTimeout(callback, 0);\r\n    };\r\n\r\n    const cancelFrame = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout;\r\n\r\n    // blocking layer to prevent click event after scrolling\r\n    const $blockLayer = $('<div style=\"position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);\"></div>');\r\n    const $originDiv = $('<div style=\"position:fixed;top:0;left:0;\">')[0];\r\n    const activated = new Map();\r\n    const stickyParents = new WeakMap();\r\n    const hooks = [];\r\n    const DATA_ID = 'xScrollable';\r\n\r\n    var $current;\r\n    var wheelLock;\r\n    var muteMutations;\r\n\r\n    function isCSSVarSupported() {\r\n        return window.CSS && CSS.supports('color', 'var(--primary)');\r\n    }\r\n\r\n    function parseOrigin(value) {\r\n        if (/(left|center|right)?(?:((?:^|\\s|[+-]?)\\d+(?:\\.\\d+)?)(px|%))?(?:\\s+(top|center|bottom)?(?:((?:^|\\s|[+-]?)\\d+(?:\\.\\d+)?)(px|%))?)?/g.test(value)) {\r\n            return {\r\n                percentX: (originKeyword[RegExp.$1] || 0) + (RegExp.$3 === '%' && +RegExp.$2),\r\n                percentY: (originKeyword[RegExp.$4 || (!RegExp.$5 && RegExp.$1)] || 0) + (RegExp.$6 === '%' && +RegExp.$5),\r\n                offsetX: +(RegExp.$3 === 'px' && +RegExp.$2),\r\n                offsetY: +(RegExp.$6 === 'px' && +RegExp.$5)\r\n            };\r\n        }\r\n        return zeroOrigin;\r\n    }\r\n\r\n    function createScrollbar($elm, dir, options) {\r\n        var $track = $('<div style=\"position:absolute;font-size:0;z-index:1;\"><div style=\"position:absolute;\"></div></div>').appendTo($elm);\r\n        var $scrollbar = $track.children().eq(0);\r\n\r\n        $track.css(options.scrollbarTrackStyle);\r\n        $track.css(dir === 'x' ? 'left' : 'top', options.scrollbarTrackStyle[dir === 'x' ? 'right' : 'bottom']);\r\n        $scrollbar.css(options.scrollbarStyle);\r\n        if (options.scrollbarClass) {\r\n            $track.addClass(options.scrollbarClass + ' ' + options.scrollbarClass + '-' + dir);\r\n        }\r\n        return $scrollbar;\r\n    }\r\n\r\n    function createGlow($elm, dir, options) {\r\n        var $track = $('<div style=\"position:absolute;pointer-events:none;font-size:0;z-index:1;\"><div style=\"position:absolute;\"></div></div>').appendTo($elm);\r\n        var $scrollbar = $track.children().eq(0);\r\n\r\n        $track.css(dir === 'x' ? 'height' : 'width', '100%');\r\n        $track.css(options.glowStyle);\r\n        $scrollbar.css(dir === 'x' ? 'height' : 'width', '100%');\r\n        if (options.glowClass) {\r\n            $track.addClass(options.glowClass + ' ' + options.glowClass + '-' + dir);\r\n        }\r\n        return $scrollbar;\r\n    }\r\n\r\n    function getEventPosition(e) {\r\n        var point = (e.originalEvent.touches || [e])[0];\r\n        return {\r\n            x: point.clientX,\r\n            y: point.clientY\r\n        };\r\n    }\r\n\r\n    function Rect(l, t, r, b) {\r\n        var self = this;\r\n        self.left = l;\r\n        self.top = t;\r\n        self.right = r;\r\n        self.bottom = b;\r\n        self.width = self.right - self.left;\r\n        self.height = self.bottom - self.top;\r\n    }\r\n\r\n    function toPlainRect(l, t, r, b) {\r\n        function clip(v) {\r\n            // IE provides precision up to 0.05 but with floating point errors that hinder comparisons\r\n            return mround(v * 1000) / 1000;\r\n        }\r\n        if (l.top !== undefined) {\r\n            return new Rect(clip(l.left), clip(l.top), clip(l.right), clip(l.bottom));\r\n        }\r\n        if (r === undefined) {\r\n            return new Rect(l, t, l, t);\r\n        }\r\n        return new Rect(l, t, r, b);\r\n    }\r\n\r\n    function getRect(elm) {\r\n        var rect;\r\n        if (elm === root || elm === window) {\r\n            if (!document.body.contains($originDiv[0])) {\r\n                document.body.appendChild($originDiv[0]);\r\n            }\r\n            // origin used by CSS, DOMRect and properties like clientX/Y may move away from the top-left corner of the window\r\n            // when virtual keyboard is shown on mobile devices\r\n            var o = getRect($originDiv[0]);\r\n            rect = toPlainRect(0, 0, root.offsetWidth, root.offsetHeight).translate(o.left, o.top);\r\n        } else if (!root.contains(elm)) {\r\n            // IE10 throws Unspecified Error for detached elements\r\n            rect = toPlainRect(0, 0, 0, 0);\r\n        } else {\r\n            rect = toPlainRect(elm.getBoundingClientRect());\r\n        }\r\n        return rect;\r\n    }\r\n\r\n    function rectIntersects(a, b) {\r\n        return !(b.right < a.left || b.left > a.right) && !(b.bottom < a.top || b.top > a.bottom);\r\n    }\r\n\r\n    function getDimension($elm) {\r\n        if ($elm[0]) {\r\n            var style = getComputedStyle($elm[0]);\r\n            var rect = getRect($elm[0]);\r\n            return {\r\n                width: (rect.right - rect.left) - (parseFloat(style[pPadding[1]]) + parseFloat(style[pPadding[3]]) + parseFloat(style[pBorder[1]]) + parseFloat(style[pBorder[3]])),\r\n                height: (rect.bottom - rect.top) - (parseFloat(style[pPadding[0]]) + parseFloat(style[pPadding[2]]) + parseFloat(style[pBorder[0]]) + parseFloat(style[pBorder[2]]))\r\n            };\r\n        }\r\n    }\r\n\r\n    function getOuterDimension($elm) {\r\n        if ($elm[0]) {\r\n            var rect = getRect($elm[0]);\r\n            return {\r\n                width: rect.width,\r\n                height: rect.height\r\n            };\r\n        }\r\n    }\r\n\r\n    function getHit($elm, margin, point, isDirY) {\r\n        var r0 = getRect($elm[0]);\r\n        var hitX = point.x + margin >= r0.left && point.x - margin <= r0.right;\r\n        var hitY = point.y + margin >= r0.top && point.y - margin <= r0.bottom;\r\n        if (hitX && hitY) {\r\n            return 2;\r\n        }\r\n        var r1 = getRect($elm.parent()[0]);\r\n        if (isDirY) {\r\n            if (hitX && point.y >= r1.top && point.y <= r1.bottom) {\r\n                return point.y > r0.bottom ? 1 : -1;\r\n            }\r\n        } else {\r\n            if (hitY && point.x >= r1.left && point.x <= r1.right) {\r\n                return point.x > r0.right ? 1 : -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function calculateMomentum(signSpeed, maxDist, overshoot) {\r\n        if (!signSpeed) {\r\n            return zeroMomentum;\r\n        }\r\n        var deceleration = 0.0006;\r\n        var speed = m.abs(signSpeed);\r\n        var newDist = (speed * speed) / (2 * deceleration);\r\n\r\n        // Proportinally reduce speed if we are outside of the boundaries\r\n        if (newDist > maxDist) {\r\n            maxDist += overshoot / (6 / (newDist / speed * deceleration));\r\n            speed = speed * maxDist / newDist;\r\n            newDist = maxDist;\r\n        }\r\n        return {\r\n            dist: newDist * (signSpeed < 0 ? -1 : 1),\r\n            time: m.max(10, mround(speed / deceleration))\r\n        };\r\n    }\r\n\r\n    function isPageScrollable() {\r\n        if (getComputedStyle(root).overflow === 'hidden') {\r\n            return false;\r\n        }\r\n        if (window.scrollX || window.scrollY) {\r\n            return true;\r\n        }\r\n        window.scrollTo(1, 1);\r\n        var result = mround(window.scrollX) || mround(window.scrollY);\r\n        window.scrollTo(0, 0);\r\n        return result;\r\n    }\r\n\r\n    function getAnchorElement() {\r\n        if (document.activeElement !== document.body) {\r\n            return document.activeElement;\r\n        }\r\n        var selection = window.getSelection();\r\n        var range = selection && selection.type === 'Range' && selection.getRangeAt(0);\r\n        return range && range.commonAncestorContainer;\r\n    }\r\n\r\n    function canScrollInnerElement(cur, parent) {\r\n        var clampX, clampY;\r\n        if ($.contains(parent, cur)) {\r\n            for (; cur !== parent; cur = cur.parentNode) {\r\n                var style = getComputedStyle(cur);\r\n                clampY = clampY || (cur.scrollHeight > cur.offsetHeight && (style.overflowY === 'auto' || style.overflowY === 'scroll'));\r\n                clampX = clampX || (cur.scrollWidth > cur.offsetWidth && (style.overflowX === 'auto' || style.overflowX === 'scroll'));\r\n            }\r\n        }\r\n        return (clampX || clampY) && {\r\n            x: clampX,\r\n            y: clampY\r\n        };\r\n    }\r\n\r\n    function getParentWrapper(cur) {\r\n        for (; (cur = cur.parentNode) && !activated.has(cur););\r\n        return cur;\r\n    }\r\n\r\n    function getActivatedWrappers() {\r\n        var elements = [];\r\n        activated.forEach(function (v, i) {\r\n            elements.push(i);\r\n        });\r\n        return elements;\r\n    }\r\n\r\n    function flushChanges(mute) {\r\n        muteMutations = mute;\r\n        activated.forEach(function (v) {\r\n            v();\r\n        });\r\n        muteMutations = false;\r\n    }\r\n\r\n    $.fn.scrollable = function (optionOverrides) {\r\n        if (typeof optionOverrides === 'string') {\r\n            var args = arguments;\r\n            var returnValue;\r\n            this.each(function () {\r\n                var obj = $.data(this, DATA_ID);\r\n                var value;\r\n                if (!obj) {\r\n                    console.warn('Scrollable ' + optionOverrides + ' should not be called before initialization');\r\n                    switch (optionOverrides) {\r\n                        case 'scrollLeft':\r\n                        case 'scrollTop':\r\n                            value = 0;\r\n                            break;\r\n                        case 'scrollPadding':\r\n                            value = { top: 0, left: 0, right: 0, bottom: 0 };\r\n                            break;\r\n                        case 'scrollBy':\r\n                        case 'scrollTo':\r\n                        case 'scrollByPage':\r\n                        case 'scrollToPage':\r\n                        case 'scrollToElement':\r\n                            value = Promise.resolve();\r\n                            break;\r\n                    }\r\n                } else {\r\n                    value = obj[optionOverrides];\r\n                    if (typeof value === 'function') {\r\n                        value = value.apply(null, [].slice.call(args, 1));\r\n                    }\r\n                }\r\n                if (value !== undefined) {\r\n                    returnValue = returnValue || value;\r\n                    return value instanceof Promise;\r\n                }\r\n            });\r\n            if (returnValue !== undefined) {\r\n                return returnValue;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        var batchOptions = {\r\n            content: '>*',\r\n            cancel: '',\r\n            getWrapperDimension: getDimension,\r\n            getContentDimension: getOuterDimension,\r\n            handle: 'auto',\r\n            wheel: true,\r\n            inferWheelX: false,\r\n            hScroll: true,\r\n            vScroll: true,\r\n            hGlow: false,\r\n            vGlow: false,\r\n            bounce: true,\r\n            hBounce: true,\r\n            vBounce: true,\r\n            bounceDuration: 200,\r\n            momentum: true,\r\n            lockDirection: true,\r\n            scrollingClass: 'scrolling',\r\n            scrollableXClass: 'scrollable-x',\r\n            scrollableYClass: 'scrollable-y',\r\n            scrollbar: createScrollbar,\r\n            scrollbarClass: '',\r\n            scrollbarInset: 3,\r\n            scrollbarSize: 5,\r\n            scrollbarStyle: {},\r\n            scrollbarTrackStyle: {},\r\n            glow: createGlow,\r\n            glowClass: '',\r\n            glowStyle: {},\r\n            pageItem: '',\r\n            pageItemAlign: 'center',\r\n            pageDirection: 'auto',\r\n            snapToPage: false,\r\n            sticky: '',\r\n            stickyHandle: '',\r\n            stickyToBottom: false,\r\n            stickyClass: 'sticky',\r\n            touchMove: null,\r\n            scrollStart: null,\r\n            scrollMove: null,\r\n            scrollStop: null,\r\n            scrollEnd: null,\r\n            scrollProgressChange: null\r\n        };\r\n        $.extend(batchOptions, optionOverrides);\r\n\r\n        // normalize options\r\n        var cssInset = optionOverrides.scrollbarInset !== undefined ? px(optionOverrides.scrollbarInset) : cssvar('scrollbar-inset', '3px');\r\n        var cssSize = optionOverrides.scrollbarSize !== undefined ? px(optionOverrides.scrollbarSize) : cssvar('scrollbar-size', '5px');\r\n        var cssInsetXY = 'calc(' + cssSize + ' + ' + cssInset + ' * 2)';\r\n        var scrollbarStyle = batchOptions.scrollbarStyle;\r\n        var scrollbarTrackStyle = batchOptions.scrollbarTrackStyle;\r\n\r\n        $.extend(scrollbarTrackStyle, {\r\n            bottom: cssInset,\r\n            right: cssInset\r\n        });\r\n        $.extend(scrollbarStyle, {\r\n            backgroundColor: coalesce(scrollbarStyle.backgroundColor, cssvar('scrollbar-color', 'black')),\r\n            borderRadius: coalesce(scrollbarStyle.borderRadius, cssvar('scrollbar-radius', 0)),\r\n            opacity: coalesce(scrollbarStyle.opacity, cssvar('scrollbar-opacity', 0.7)),\r\n            bottom: 0,\r\n            right: 0,\r\n            minWidth: cssSize,\r\n            minHeight: cssSize\r\n        });\r\n        batchOptions.hBounce = batchOptions.bounce && batchOptions.hBounce;\r\n        batchOptions.vBounce = batchOptions.bounce && batchOptions.vBounce;\r\n\r\n        return this.each(function () {\r\n            var options = $.extend(true, {}, batchOptions);\r\n            var $wrapper = $(this);\r\n            var $content = $();\r\n            var $pageItems = $();\r\n            var $middle = $();\r\n            var $hScrollbar = !!(options.scrollbar && options.hScroll) && $(options.scrollbar($wrapper, 'x', options)).hide();\r\n            var $vScrollbar = !!(options.scrollbar && options.vScroll) && $(options.scrollbar($wrapper, 'y', options)).hide();\r\n            var $hGlow = !!(options.glow && options.hGlow) && $(options.glow($wrapper, 'x', options)).hide();\r\n            var $vGlow = !!(options.glow && options.vGlow) && $(options.glow($wrapper, 'y', options)).hide();\r\n            var $scrollbars = $wrapper.find([$hScrollbar[0], $vScrollbar[0], $hGlow[0], $vGlow[0]]).parent();\r\n            var enabled = true;\r\n            var x = 0;\r\n            var y = 0;\r\n            var leadingX = 0;\r\n            var leadingY = 0;\r\n            var stopX = 0;\r\n            var stopY = 0;\r\n            var pendingX = 0;\r\n            var pendingY = 0;\r\n            var minX;\r\n            var minY;\r\n            var pageDirection;\r\n            var contentSize = zeroSize;\r\n            var wrapperSize = zeroSize;\r\n            var scrollbarSize;\r\n            var lastTouch;\r\n            var stickyConfig = new Map();\r\n            var stickyElements = new Map();\r\n            var stickyRect;\r\n            var refreshTimeout;\r\n            var mutationObserver;\r\n            var resizeObserver;\r\n            var mediaElements;\r\n            var cancelScroll;\r\n            var cancelAnim;\r\n            var updateContentOnRefresh;\r\n            var eventTrigger;\r\n            var eventState;\r\n            var wheelState;\r\n            var keyState;\r\n\r\n            if (activated.has(this)) {\r\n                throw new Error('Scrollable already activated');\r\n            }\r\n            activated.set(this, function () {\r\n                return mutationObserver && mutationObserver.takeRecords();\r\n            });\r\n\r\n            function getPageIndex(offset) {\r\n                var props = pageDirection === 'x' ? ['left', 'right', 'width'] : ['top', 'bottom', 'height'];\r\n                var count = $pageItems.length;\r\n                var rect = getRect($wrapper[0]);\r\n                rect[props[0]] -= offset || 0;\r\n                rect[props[1]] -= offset || 0;\r\n\r\n                var alignFn = function (i, rect) {\r\n                    return (rect[props[0]] * ((count - i) / count) + rect[props[1]] * (i / count));\r\n                };\r\n                var center = (rect[props[0]] + rect[props[1]]) / 2;\r\n                var dist = Infinity;\r\n                var newIndex;\r\n                $pageItems.each(function (i, v) {\r\n                    var r = getRect(v);\r\n                    if ((r[props[2]] | 0) > (rect[props[2]] | 0)) {\r\n                        if ((r[props[0]] < center && r[props[1]] > rect[props[1]]) || (r[props[0]] < 0 && r[props[1]] > center)) {\r\n                            dist = 0;\r\n                            newIndex = i;\r\n                        }\r\n                    }\r\n                    var d = m.abs(alignFn(i, r) - alignFn(i, rect));\r\n                    if (d < dist) {\r\n                        dist = d;\r\n                        newIndex = i;\r\n                    }\r\n                });\r\n                return newIndex;\r\n            }\r\n\r\n            function getScrollPadding(target) {\r\n                var style = getComputedStyle($wrapper[0]);\r\n                var getValue = function (prop) {\r\n                    return style[prop] === 'auto' || !style[prop] ? undefined : parseFloat(style[prop]);\r\n                };\r\n                var top = getValue(pScrollPadding[0]);\r\n                var left = getValue(pScrollPadding[3]);\r\n                var right = getValue(pScrollPadding[1]);\r\n                var bottom = getValue(pScrollPadding[2]);\r\n                var stickyPadding = $.extend({}, zeroOffset);\r\n                var targetRect = target && getRect(target);\r\n                stickyElements.forEach(function (state) {\r\n                    if (state.fixed || (targetRect && state.within && rectIntersects(targetRect, state.rect))) {\r\n                        if (state.dirX) {\r\n                            stickyPadding[state.dirX] = m.max(stickyPadding[state.dirX], state.padX);\r\n                        }\r\n                        if (state.dirY) {\r\n                            stickyPadding[state.dirY] = m.max(stickyPadding[state.dirY], state.padY);\r\n                        }\r\n                    }\r\n                });\r\n                return {\r\n                    top: getValue(pBorder[0]) + (top !== undefined ? top : stickyPadding.top + leadingY + (leadingY && getValue(pPadding[0]))),\r\n                    left: getValue(pBorder[3]) + (left !== undefined ? left : stickyPadding.left + leadingX + (leadingX && getValue(pPadding[3]))),\r\n                    right: getValue(pBorder[1]) + (right !== undefined ? right : m.max(stickyPadding.right, $vScrollbar && minY ? $vScrollbar.width() + parseFloat($vScrollbar.parent().css('right')) * 2 : 0)),\r\n                    bottom: getValue(pBorder[2]) + (bottom !== undefined ? bottom : m.max(stickyPadding.bottom, $hScrollbar && minX ? $hScrollbar.height() + parseFloat($hScrollbar.parent().css('bottom')) * 2 : 0))\r\n                };\r\n            }\r\n\r\n            function getScrollState(startX, startY, newX, newY, deltaX, deltaY) {\r\n                var pageIndex = options.pageItem ? getPageIndex() : -1;\r\n                var curX = newX === undefined ? x : newX;\r\n                var curY = newY === undefined ? y : newY;\r\n                return {\r\n                    trigger: eventTrigger || 'script',\r\n                    startX: -startX,\r\n                    startY: -startY,\r\n                    offsetX: -curX,\r\n                    offsetY: -curY,\r\n                    deltaX: -deltaX || 0,\r\n                    deltaY: -deltaY || 0,\r\n                    percentX: minX ? (curX / minX) * 100 : 100,\r\n                    percentY: minY ? (curY / minY) * 100 : 100,\r\n                    pageIndex: pageIndex,\r\n                    pageItem: $pageItems[pageIndex] || null\r\n                };\r\n            }\r\n\r\n            function getResolvePromise() {\r\n                return $.extend(Promise.resolve(), getScrollState(x, y));\r\n            }\r\n\r\n            function fireEvent(type, startX, startY, newX, newY, deltaX, deltaY) {\r\n                var args = getScrollState(startX, startY, newX, newY, deltaX, deltaY);\r\n                args.type = type;\r\n                if (typeof options[type] === 'function') {\r\n                    options[type].call($wrapper[0], args);\r\n                }\r\n                hooks.forEach(function (v) {\r\n                    if (typeof v[type] === 'function') {\r\n                        v[type].call($wrapper[0], args);\r\n                    }\r\n                });\r\n                switch (type) {\r\n                    case 'scrollStart':\r\n                        eventState = {\r\n                            startX: startX,\r\n                            startY: startY,\r\n                            flag: 1\r\n                        };\r\n                        updateStickyPositions(true);\r\n                        break;\r\n                    case 'scrollMove':\r\n                        fireEvent('scrollProgressChange', startX, startY, newX, newY, deltaX, deltaY);\r\n                        break;\r\n                    case 'scrollStop':\r\n                        eventState.flag |= 2;\r\n                        break;\r\n                    case 'scrollEnd':\r\n                        eventState = null;\r\n                        stickyRect = null;\r\n                        updateStickyPositions();\r\n                        break;\r\n                }\r\n            }\r\n\r\n            function normalizePosition(newX, newY, forcePageChange) {\r\n                var normalizeInternal = function (newX, newY) {\r\n                    return {\r\n                        x: (newX > 0 ? 0 : newX < minX ? minX : mround(newX)),\r\n                        y: (newY > 0 ? 0 : newY < minY ? minY : mround(newY))\r\n                    };\r\n                };\r\n                var newPos = normalizeInternal(newX, newY);\r\n                if (options.pageItem && options.snapToPage) {\r\n                    var align = options.pageItemAlign;\r\n                    var dir = pageDirection;\r\n                    var props = dir === 'x' ? ['left', 'right', 'width'] : ['top', 'bottom', 'height'];\r\n                    var oldPos = {\r\n                        x: x,\r\n                        y: y\r\n                    };\r\n                    var offset = newPos[dir] - oldPos[dir];\r\n                    if (offset || forcePageChange) {\r\n                        var itemCount = $pageItems.length;\r\n                        var curIndex = getPageIndex();\r\n                        var newIndex = offset ? getPageIndex(offset) : curIndex;\r\n                        var r0 = getRect($wrapper[0]);\r\n                        var r1;\r\n                        if (forcePageChange && newIndex === curIndex && offset && (offset < 0 ? curIndex < itemCount - 1 : curIndex > 0)) {\r\n                            r1 = getRect($pageItems[curIndex]);\r\n                            if (r1[props[2]] < r0[props[2]] || (offset < 0 ? mround(r1[props[1]]) <= r0[props[1]] : m.ceil(r1[props[0]]) >= r0[props[0]])) {\r\n                                newIndex += offset < 0 ? 1 : -1;\r\n                            }\r\n                        }\r\n                        r1 = getRect($pageItems[newIndex]);\r\n\r\n                        var distStart = r1[props[0]] - r0[props[0]] + offset;\r\n                        var distEnd = r1[props[1]] - r0[props[1]] + offset;\r\n                        if (distStart <= 0 && distEnd >= 0) {\r\n                            return newPos;\r\n                        }\r\n                        var alignProp;\r\n                        if (r1[props[2]] <= r0[props[2]]) {\r\n                            alignProp = align === props[0] || align === props[1] ? align : props[2];\r\n                        } else if (offset) {\r\n                            alignProp = (offset < 0) ^ (curIndex === newIndex) ? props[0] : props[1];\r\n                        } else {\r\n                            alignProp = m.abs(distStart) <= m.abs(distEnd) ? props[0] : props[1];\r\n                        }\r\n                        if (alignProp === props[0] && newIndex === 0) {\r\n                            newPos[dir] = 0;\r\n                        } else if (alignProp === props[1] && newIndex === itemCount - 1) {\r\n                            newPos[dir] = dir === x ? minX : minY;\r\n                        } else {\r\n                            var snapPos;\r\n                            switch (alignProp) {\r\n                                case props[0]:\r\n                                    snapPos = r1[props[0]];\r\n                                    break;\r\n                                case props[1]:\r\n                                    snapPos = r1[props[1]] - r0[props[2]];\r\n                                    break;\r\n                                default:\r\n                                    snapPos = (r1[props[0]] + r1[props[1]] - r0[props[2]]) / 2;\r\n                                    break;\r\n                            }\r\n                            newPos[dir] = mround(oldPos[dir] + r0[props[0]] - snapPos);\r\n                        }\r\n                        newPos = normalizeInternal(newPos.x, newPos.y);\r\n                        newPos.pageChanged = oldPos[dir] !== snapPos;\r\n                    }\r\n                }\r\n                return newPos;\r\n            }\r\n\r\n            function setGlow(pressureX, pressureY) {\r\n                if ($hGlow) {\r\n                    if (pressureX > 0) {\r\n                        $hGlow.css({\r\n                            width: pc(pressureX)\r\n                        }).fadeIn().parent().css({\r\n                            left: 0,\r\n                            right: 'auto'\r\n                        });\r\n                    } else if (pressureX < 0) {\r\n                        $hGlow.css({\r\n                            width: pc(-pressureX)\r\n                        }).fadeIn().parent().css({\r\n                            left: 'auto',\r\n                            right: 0\r\n                        });\r\n                    } else {\r\n                        $hGlow.css({\r\n                            width: 0\r\n                        }).fadeOut();\r\n                    }\r\n                    $hGlow.parent().toggleClass(options.glowClass + '-x-l', pressureX > 0);\r\n                    $hGlow.parent().toggleClass(options.glowClass + '-x-r', pressureX < 0);\r\n                }\r\n                if ($vGlow) {\r\n                    if (pressureY > 0) {\r\n                        $vGlow.css({\r\n                            height: pc(pressureY)\r\n                        }).fadeIn().parent().css({\r\n                            top: 0,\r\n                            bottom: 'auto'\r\n                        });\r\n                    } else if (pressureY < 0) {\r\n                        $vGlow.css({\r\n                            height: pc(-pressureY)\r\n                        }).fadeIn().parent().css({\r\n                            top: 'auto',\r\n                            bottom: 0\r\n                        });\r\n                    } else {\r\n                        $vGlow.css({\r\n                            height: 0\r\n                        }).fadeOut();\r\n                    }\r\n                    $vGlow.parent().toggleClass(options.glowClass + '-y-u', pressureY > 0);\r\n                    $vGlow.parent().toggleClass(options.glowClass + '-y-d', pressureY < 0);\r\n                }\r\n            }\r\n\r\n            function removeStickyElement(element) {\r\n                if (stickyParents.get(element) === $wrapper[0]) {\r\n                    stickyParents.delete(element);\r\n                    $(element).removeClass(options.stickyClass).css('transform', '');\r\n                }\r\n                stickyElements.delete(element);\r\n            }\r\n\r\n            function setStickyElement(element, config) {\r\n                if (!config.dirX && !config.dirY) {\r\n                    removeStickyElement(element);\r\n                } else {\r\n                    if (typeof config.within === 'string') {\r\n                        config = $.extend({}, config);\r\n                        config.within = getRect.bind(0, $(element).closest(config.within)[0]);\r\n                    }\r\n                    var parent = stickyParents.get(element);\r\n                    if (!parent || parent === $wrapper[0] || $.contains(parent, $wrapper[0])) {\r\n                        stickyParents.set(element, $wrapper[0]);\r\n                    }\r\n                    stickyElements.set(element, config);\r\n                }\r\n            }\r\n\r\n            function updateStickyPositions(beforeScrollStart) {\r\n                var r0 = stickyRect, r1;\r\n                stickyElements.forEach(function (state, element) {\r\n                    if (stickyParents.get(element) !== $wrapper[0]) {\r\n                        return;\r\n                    }\r\n                    if (!r0) {\r\n                        var style = getComputedStyle($wrapper[0]);\r\n                        r0 = getRect($wrapper[0]);\r\n                        r1 = getRect($content[0]);\r\n                        r0 = {\r\n                            top: r0.top + parseFloat(style[pBorder[0]]) + leadingY,\r\n                            left: r0.left + parseFloat(style[pBorder[3]]) + leadingX,\r\n                            right: r0.right - parseFloat(style[pBorder[1]]),\r\n                            bottom: r0.bottom - parseFloat(style[pBorder[2]]),\r\n                            ptop: parseFloat(style[pPadding[0]]),\r\n                            pleft: parseFloat(style[pPadding[3]]),\r\n                            pright: parseFloat(style[pPadding[1]]) * -1,\r\n                            pbottom: parseFloat(style[pPadding[2]]) * -1,\r\n                            startX: x,\r\n                            startY: y\r\n                        };\r\n                    }\r\n                    var dirX = state.dirX || 0;\r\n                    var dirY = state.dirY || 0;\r\n                    var signX = dirX === 'right' ? -1 : 1;\r\n                    var signY = dirY === 'bottom' ? -1 : 1;\r\n                    if (!stickyRect) {\r\n                        var r2 = getRect(element);\r\n                        var r3 = state.within ? state.within() : r1;\r\n                        var tm = new DOMMatrix(element.style.transform);\r\n                        var style = getComputedStyle(element);\r\n                        var r0x = r0[dirX] + (state.fixed ? r0['p' + dirX] : leadingX && signX > 0 ? r0.pleft : 0);\r\n                        var r0y = r0[dirY] + (state.fixed ? r0['p' + dirY] : leadingY && signY > 0 ? r0.ptop : 0);\r\n                        $.extend(state, {\r\n                            offsetX: dirX && r0x - r3[dirX],\r\n                            offsetY: dirY && r0y - r3[dirY],\r\n                            deltaX: dirX && !state.fixed && (r2[dirX] - r3[dirX] - tm.e),\r\n                            deltaY: dirY && !state.fixed && (r2[dirY] - r3[dirY] - tm.f),\r\n                            maxX: (r3.width - r2.width) * signX - (r2[dirX] - r3[dirX] - tm.e),\r\n                            maxY: (r3.height - r2.height) * signY - (r2[dirY] - r3[dirY] - tm.f),\r\n                            padX: dirX && (r2[dirX] * signX - r0x * signX + r2.width + parseFloat(style[pMargin[dirX > 0 ? 3 : 1]])),\r\n                            padY: dirY && (r2[dirY] * signY - r0y * signY + r2.height + parseFloat(style[pMargin[dirY > 0 ? 0 : 2]])),\r\n                            rect: r3\r\n                        });\r\n                    }\r\n                    var offsetX = dirX && mround(m[signX < 0 ? 'max' : 'min'](state.offsetX - (x - r0.startX) - state.deltaX, state.maxX));\r\n                    var offsetY = dirY && mround(m[signY < 0 ? 'max' : 'min'](state.offsetY - (y - r0.startY) - state.deltaY, state.maxY));\r\n                    offsetX = offsetX * signX < 0 ? 0 : offsetX;\r\n                    offsetY = offsetY * signY < 0 ? 0 : offsetY;\r\n                    $(element).toggleClass(options.stickyClass, !!offsetX || !!offsetY).css('transform', translate(px(offsetX), px(offsetY)));\r\n                });\r\n                if (beforeScrollStart) {\r\n                    stickyRect = r0;\r\n                }\r\n            }\r\n\r\n            function toggleScrollbars() {\r\n                if ($hScrollbar) {\r\n                    $hScrollbar.toggle(enabled && minX < 0);\r\n                }\r\n                if ($vScrollbar) {\r\n                    $vScrollbar.toggle(enabled && minY < 0);\r\n                }\r\n            }\r\n\r\n            function setPosition(newX, newY) {\r\n                x = mround(newX);\r\n                y = mround(newY);\r\n                pendingX = 0;\r\n                pendingY = 0;\r\n\r\n                if (hasTransform) {\r\n                    $content.css('transform', translate(px(x), px(y)));\r\n                } else {\r\n                    $content.css({\r\n                        left: px(x),\r\n                        top: px(y)\r\n                    });\r\n                }\r\n                if ($hScrollbar) {\r\n                    var left = -x / contentSize.width * 100;\r\n                    if (x > 0) {\r\n                        $hScrollbar.css({\r\n                            width: pc(scrollbarSize.x + left),\r\n                            left: 0,\r\n                            right: 'auto'\r\n                        });\r\n                    } else if (x >= minX) {\r\n                        $hScrollbar.css({\r\n                            width: pc(scrollbarSize.x),\r\n                            left: pc(left),\r\n                            right: 'auto'\r\n                        });\r\n                    } else {\r\n                        $hScrollbar.css({\r\n                            width: pc(100 - left),\r\n                            left: 'auto',\r\n                            right: 0\r\n                        });\r\n                    }\r\n                    $hScrollbar.parent().css('right', $vScrollbar && minY ? cssInsetXY : cssInset);\r\n                }\r\n                if ($vScrollbar) {\r\n                    var top = -y / contentSize.height * 100;\r\n                    if (y > 0) {\r\n                        $vScrollbar.css({\r\n                            height: pc(scrollbarSize.y + top),\r\n                            top: 0,\r\n                            bottom: 'auto'\r\n                        });\r\n                    } else if (y >= minY) {\r\n                        $vScrollbar.css({\r\n                            height: pc(scrollbarSize.y),\r\n                            top: pc(top),\r\n                            bottom: 'auto'\r\n                        });\r\n                    } else {\r\n                        $vScrollbar.css({\r\n                            height: pc(100 - top),\r\n                            top: 'auto',\r\n                            bottom: 0\r\n                        });\r\n                    }\r\n                    $vScrollbar.parent().css('bottom', $hScrollbar && minX ? cssInsetXY : cssInset);\r\n                }\r\n                toggleScrollbars();\r\n                updateStickyPositions();\r\n                flushChanges(true);\r\n\r\n                $wrapper.toggleClass(options.scrollableXClass, minX < 0);\r\n                $wrapper.toggleClass(options.scrollableYClass, minY < 0);\r\n                $wrapper.toggleClass(options.scrollableXClass + '-l', x < 0);\r\n                $wrapper.toggleClass(options.scrollableXClass + '-r', x > minX);\r\n                $wrapper.toggleClass(options.scrollableYClass + '-u', y < 0);\r\n                $wrapper.toggleClass(options.scrollableYClass + '-d', y > minY);\r\n            }\r\n\r\n            function setScrollMove(newX, newY) {\r\n                var prevX = x;\r\n                var prevY = y;\r\n                setPosition(newX, newY);\r\n                if (eventState) {\r\n                    fireEvent('scrollMove', eventState.startX, eventState.startY, newX, newY, x - prevX, y - prevY);\r\n                }\r\n            }\r\n\r\n            function setScrollStart(trigger, onCancel) {\r\n                if (cancelScroll) {\r\n                    cancelScroll();\r\n                }\r\n                eventTrigger = trigger;\r\n                $wrapper.addClass(options.scrollingClass);\r\n                fireEvent('scrollStart', x, y);\r\n                cancelScroll = function () {\r\n                    cancelScroll = null;\r\n                    if (cancelAnim) {\r\n                        cancelAnim();\r\n                    }\r\n                    if (onCancel) {\r\n                        onCancel(true);\r\n                    }\r\n                };\r\n            }\r\n\r\n            function setScrollEnd() {\r\n                cancelScroll = null;\r\n                stopX = x;\r\n                stopY = y;\r\n                if (eventState) {\r\n                    if (!(eventState.flag & 2)) {\r\n                        fireEvent('scrollStop', eventState.startX, eventState.startY);\r\n                    }\r\n                    fireEvent('scrollEnd', eventState.startX, eventState.startY);\r\n                }\r\n                $wrapper.removeClass(options.scrollingClass);\r\n            }\r\n\r\n            function scrollTo(newX, newY, duration, callback) {\r\n                // stop any running animation\r\n                if (cancelAnim) {\r\n                    cancelAnim();\r\n                }\r\n                stopX = newX;\r\n                stopY = newY;\r\n\r\n                if (mround(newX) === x && mround(newY) === y) {\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                var fireStart = !eventState;\r\n                var startTime = +new Date();\r\n                var startX = x;\r\n                var startY = y;\r\n                var frameId;\r\n                var resolve;\r\n\r\n                var promise = new Promise(function (res) {\r\n                    resolve = res;\r\n                });\r\n                var finish = function () {\r\n                    cancelAnim = null;\r\n                    cancelFrame(frameId);\r\n                    if (fireStart) {\r\n                        setScrollEnd();\r\n                    }\r\n                    if (typeof callback === 'function') {\r\n                        callback();\r\n                    }\r\n                    resolve();\r\n                };\r\n                var animate = function () {\r\n                    var elapsed = (+new Date()) - startTime;\r\n                    if (elapsed >= duration) {\r\n                        setScrollMove(newX, newY);\r\n                        finish();\r\n                        return;\r\n                    }\r\n\r\n                    var f = elapsed / duration - 1;\r\n                    var easeOut = m.sqrt(1 - f * f);\r\n                    var stepX = (newX - startX) * easeOut + startX;\r\n                    var stepY = (newY - startY) * easeOut + startY;\r\n\r\n                    setScrollMove(stepX, stepY);\r\n                    frameId = nextFrame(animate);\r\n                };\r\n                if (fireStart) {\r\n                    setScrollStart('script', finish);\r\n                } else {\r\n                    cancelAnim = finish;\r\n                }\r\n                animate();\r\n                return $.extend(promise, getScrollState(startX, startY, newX, newY, newX - startX, newY - startY));\r\n            }\r\n\r\n            function scrollToPreNormalized(x, y, duration, callback, forcePageChange) {\r\n                refresh();\r\n                var p = normalizePosition(x, y, forcePageChange);\r\n                return scrollTo(p.x, p.y, +duration || 0, callback);\r\n            }\r\n\r\n            function scrollByPage(dx, dy, duration, callback) {\r\n                return scrollToPreNormalized(x - (dx * wrapperSize.width || 0), y - (dy * wrapperSize.height || 0), duration, callback, true);\r\n            }\r\n\r\n            function scrollToElement(target, targetOrigin, wrapperOrigin, duration, callback) {\r\n                target = $(target, $content)[0];\r\n                if (target) {\r\n                    refresh();\r\n                    var scrollPadding = getScrollPadding(target);\r\n                    var oriE = parseOrigin(targetOrigin);\r\n                    var oriW = parseOrigin(wrapperOrigin);\r\n                    var posE = getRect(target);\r\n                    var posW = getRect($wrapper[0]);\r\n                    posW = toPlainRect(\r\n                        posW.left + scrollPadding.left,\r\n                        posW.top + scrollPadding.top,\r\n                        posW.right - scrollPadding.right,\r\n                        posW.bottom - scrollPadding.bottom\r\n                    );\r\n                    var newX = posE.left * (1 - oriE.percentX) + posE.right * oriE.percentX + oriE.offsetX - posW.left - posW.width * oriW.percentX - oriW.offsetX - x;\r\n                    var newY = posE.top * (1 - oriE.percentY) + posE.bottom * oriE.percentY + oriE.offsetY - posW.top - posW.height * oriW.percentY - oriW.offsetY - y;\r\n                    return scrollToPreNormalized(-m.round(newX), -m.round(newY), duration || wrapperOrigin, callback || duration);\r\n                }\r\n            }\r\n\r\n            function fixNativeScroll(element) {\r\n                var scrollTop = element.scrollTop;\r\n                var scrollLeft = element.scrollLeft;\r\n                if (scrollTop || scrollLeft) {\r\n                    if (enabled && !pendingX && !pendingY) {\r\n                        nextFrame(function () {\r\n                            if (pendingX || pendingY) {\r\n                                scrollToPreNormalized(x - pendingX, y - pendingY, 0);\r\n                            }\r\n                        });\r\n                    }\r\n                    pendingX += scrollLeft;\r\n                    pendingY += scrollTop;\r\n                    element.scrollTop = 0;\r\n                    element.scrollLeft = 0;\r\n                }\r\n            }\r\n\r\n            function fixNativeScrollHandler(e) {\r\n                fixNativeScroll(e.currentTarget);\r\n            }\r\n\r\n            function refresh(updateContent) {\r\n                // prevent changes missed in other containers\r\n                flushChanges(false);\r\n                cancelFrame(refreshTimeout);\r\n                refreshTimeout = null;\r\n                if ($wrapper.is(':visible')) {\r\n                    if (updateContent || updateContentOnRefresh) {\r\n                        var wrappers = getActivatedWrappers();\r\n                        var content = $(options.content, $wrapper).get().find(function (v) {\r\n                            return $(v).closest(wrappers)[0] === $wrapper[0] && $(v).is(':visible');\r\n                        });\r\n                        if (content !== $content[0]) {\r\n                            if (cancelScroll) {\r\n                                cancelScroll();\r\n                            }\r\n                            if ($content[0]) {\r\n                                $content[0].scrollableOffsetX = x;\r\n                                $content[0].scrollableOffsetY = y;\r\n                            }\r\n                            array.splice.call($content, 0, 1);\r\n                            if (content) {\r\n                                array.push.call($content, content);\r\n                                if ($content.css('position') === 'static') {\r\n                                    $content.css('position', 'relative');\r\n                                }\r\n                                if ($content.css('z-index') === 'auto') {\r\n                                    $content.css('z-index', 0);\r\n                                }\r\n                                x = content.scrollableOffsetX || 0;\r\n                                y = content.scrollableOffsetY || 0;\r\n                                $middle = $content.parentsUntil($wrapper).not($middle).on('scroll', fixNativeScrollHandler).end();\r\n                            }\r\n                        }\r\n                        if (content) {\r\n                            $(options.sticky, content).each(function (i, v) {\r\n                                var handle = $(options.stickyHandle, v)[0];\r\n                                if (handle && !stickyElements.has(handle)) {\r\n                                    setStickyElement(handle, {\r\n                                        dirY: options.stickyToBottom ? 'bottom' : 'top',\r\n                                        within: getRect.bind(0, v)\r\n                                    });\r\n                                };\r\n                            });\r\n                            stickyConfig.forEach(function (config, selector) {\r\n                                $(selector, content).each(function (i, v) {\r\n                                    setStickyElement(v, config);\r\n                                });\r\n                            });\r\n                        }\r\n                        $pageItems = content && options.pageItem ? $(options.pageItem, content) : $();\r\n                        stickyRect = null;\r\n                        updateContentOnRefresh = false;\r\n                    }\r\n                    var oMinX = minX, oMinY = minY;\r\n                    var style = getComputedStyle($wrapper[0]);\r\n                    var r0, r1, trailingX = 0, trailingY = 0;\r\n                    if ($content.is(':visible')) {\r\n                        var $clip = $content.parentsUntil($wrapper).filter(function (i, v) {\r\n                            return $(v).css('overflow') !== 'visible';\r\n                        });\r\n                        r0 = getRect($wrapper[0]);\r\n                        r1 = getRect($content[0]);\r\n                        leadingX = mround(r1.left - r0.left - x - parseFloat(style[pPadding[3]]) - parseFloat(style[pBorder[3]]));\r\n                        leadingY = mround(r1.top - r0.top - y - parseFloat(style[pPadding[0]]) - parseFloat(style[pBorder[0]]));\r\n                        if ($clip[0]) {\r\n                            var r2 = getRect($clip[0]);\r\n                            trailingX = r0.right - r2.right + parseFloat($clip.css(pPadding[1]));\r\n                            trailingY = r0.bottom - r2.bottom + parseFloat($clip.css(pPadding[2]));\r\n                        }\r\n                        trailingX += Math.min(0, parseFloat($content.css(pMargin[1])));\r\n                        trailingY += Math.min(0, parseFloat($content.css(pMargin[2])));\r\n                    }\r\n                    contentSize = $.extend({}, zeroSize, options.getContentDimension($content));\r\n                    wrapperSize = $.extend({}, zeroSize, options.getWrapperDimension($wrapper));\r\n                    minX = options.hScroll ? m.min(0, mround(wrapperSize.width - contentSize.width - leadingX - trailingX)) : 0;\r\n                    minY = options.vScroll ? m.min(0, mround(wrapperSize.height - contentSize.height - leadingY - trailingY)) : 0;\r\n                    scrollbarSize = {\r\n                        x: (1 + minX / contentSize.width) * 100 || 0,\r\n                        y: (1 + minY / contentSize.height) * 100 || 0\r\n                    };\r\n                    if (options.pageDirection === 'x' || options.pageDirection === 'y') {\r\n                        pageDirection = options.pageDirection;\r\n                    } else if (minX && minY && $pageItems[1]) {\r\n                        r0 = getRect($pageItems[0]);\r\n                        r1 = getRect($pageItems[1]);\r\n                        var centerX = (r1.left + r1.right) / 2;\r\n                        pageDirection = centerX > r0.right || centerX < r0.left ? 'x' : 'y';\r\n                    } else {\r\n                        pageDirection = minY ? 'y' : 'x';\r\n                    }\r\n                    $wrapper.css('touch-action', (['none', 'pan-x', 'pan-y', 'auto'])[!minY * 2 + !minX]);\r\n\r\n                    $scrollbars.each(function (i, v) {\r\n                        if (!v.isConnected) {\r\n                            $wrapper.append(v);\r\n                        }\r\n                    });\r\n                    if (!eventState && (x < minX || y < minY)) {\r\n                        if (cancelScroll) {\r\n                            cancelScroll();\r\n                        }\r\n                        var startX = x;\r\n                        var startY = y;\r\n                        var newPos = normalizePosition(x, y);\r\n                        fireEvent('scrollStart', startX, startY);\r\n                        stopX = x;\r\n                        stopY = y;\r\n                        setScrollMove(newPos.x, newPos.y);\r\n                        fireEvent('scrollEnd', startX, startY);\r\n                    } else if (oMinX !== minX || oMinY !== minY) {\r\n                        setPosition(x, y);\r\n                        fireEvent('scrollProgressChange', x, y);\r\n                    } else {\r\n                        updateStickyPositions();\r\n                        // prevent infinite loop\r\n                        flushChanges(true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            function refreshNext(updateContent) {\r\n                updateContentOnRefresh = updateContentOnRefresh || updateContent === true;\r\n                refreshTimeout = refreshTimeout || nextFrame(refresh);\r\n            }\r\n\r\n            function startScrollPerFrame(callback) {\r\n                var lastTime = Date.now();\r\n                var timeout = nextFrame(step);\r\n                var bouncing;\r\n\r\n                function next(curTime) {\r\n                    lastTime = curTime || Date.now();\r\n                    timeout = timeout && nextFrame(step);\r\n                }\r\n\r\n                function step() {\r\n                    var curTime = Date.now();\r\n                    if (!bouncing) {\r\n                        callback(function (dx, dy, overshoot) {\r\n                            if (!minX) {\r\n                                dx = 0;\r\n                            } else if (x > 0 || x < minX) {\r\n                                dx = dx / m.sqrt(x > 0 ? x : minX - x);\r\n                            }\r\n                            if (!minY) {\r\n                                dy = 0;\r\n                            } else if (y > 0 || y < minY) {\r\n                                dy = dy / m.sqrt(y > 0 ? y : minY - y);\r\n                            }\r\n                            var factor = (curTime - lastTime) * 2;\r\n                            var newX = x - dx * factor;\r\n                            var newY = y - dy * factor;\r\n                            if (!overshoot || (options.snapToPage && options.pageItem)) {\r\n                                var newPos = normalizePosition(newX, newY, true);\r\n                                newX = newPos.x;\r\n                                newY = newPos.y;\r\n                                if (newPos.pageChanged) {\r\n                                    bouncing = true;\r\n                                    scrollTo(newX, newY, options.bounceDuration, function () {\r\n                                        bouncing = false;\r\n                                    });\r\n                                    return true;\r\n                                }\r\n                            }\r\n                            if (m.abs(newX - x) >= 0.5 || m.abs(newY - y) >= 0.5) {\r\n                                setScrollMove(newX, newY);\r\n                                return true;\r\n                            }\r\n                        }, curTime);\r\n                    }\r\n                    next(curTime);\r\n                }\r\n\r\n                return function () {\r\n                    cancelFrame(timeout);\r\n                    timeout = 0;\r\n                };\r\n            }\r\n\r\n            function scrollWithMomentum(startX, startY, speedX, speedY, handleEnd) {\r\n                var momentumX = x === startX ? zeroMomentum : calculateMomentum(speedX, m.max(0, x > startX ? -x : x - minX), options.bounce && wrapperSize.width);\r\n                var momentumY = y === startY ? zeroMomentum : calculateMomentum(speedY, m.max(0, y > startY ? -y : y - minY), options.bounce && wrapperSize.height);\r\n                var newX = x - momentumX.dist;\r\n                var newY = y - momentumY.dist;\r\n                if (options.pageItem && options.snapToPage) {\r\n                    var p = normalizePosition(newX, newY, true);\r\n                    newX = p.x;\r\n                    newY = p.y;\r\n                }\r\n                scrollTo(newX, newY, m.max(momentumX.time, momentumY.time), function () {\r\n                    var newPos = normalizePosition(x, y);\r\n                    scrollTo(newPos.x, newPos.y, options.bounceDuration, handleEnd);\r\n                });\r\n            }\r\n\r\n            function startScrollByPointer(e) {\r\n                var touches = e.originalEvent.touches;\r\n                var hasTouch = touches && (touches[0].touchType || true);\r\n                var handle = options.handle;\r\n                var EV_MOVE = hasTouch ? 'touchmove' : 'mousemove';\r\n                var EV_END = hasTouch ? 'touchend' : 'mouseup';\r\n                var EV_CANCEL = hasTouch ? 'touchcancel' : 'mouseup';\r\n\r\n                clearTimeout(wheelLock);\r\n\r\n                if (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey || e.isDefaultPrevented()) {\r\n                    return;\r\n                }\r\n                // only start scrolling for left click and one-finger touch\r\n                if ((!hasTouch && e.which !== 1) || (hasTouch && touches.length !== 1) || $(e.target).is(options.cancel) || $(options.cancel, $wrapper).has(e.target).length) {\r\n                    if (e.which === 2) {\r\n                        e.preventDefault();\r\n                    }\r\n                    return;\r\n                }\r\n                if ($(e.target).is(':text')) {\r\n                    return;\r\n                }\r\n                refresh();\r\n\r\n                var point = getEventPosition(e);\r\n                var startTime = +new Date();\r\n                var startX = x;\r\n                var startY = y;\r\n                var pressureX = 0;\r\n                var pressureY = 0;\r\n                var lastPoint = point;\r\n                var firstPoint = point;\r\n                var eventTarget = e.target;\r\n                var bindedHandler = {};\r\n                var snappedToPage = false;\r\n                var canScrollX = options.hScroll && minX < 0;\r\n                var canScrollY = options.vScroll && minY < 0;\r\n                var scrollbarMode;\r\n                var modeX;\r\n                var modeY;\r\n                var factor = 1;\r\n                var isDirY;\r\n                var stopScroll;\r\n\r\n                if (handle === 'auto') {\r\n                    handle = hasTouch || !$vScrollbar ? 'content' : 'scrollbar';\r\n                }\r\n                if (hasTouch && touches.length === 1) {\r\n                    lastTouch = point;\r\n                } else if (!hasTouch && lastTouch && point.x === lastTouch.x && point.y === lastTouch.y) {\r\n                    return;\r\n                }\r\n                if (handle === 'scrollbar' || handle === 'both') {\r\n                    modeX = !modeY && $hScrollbar && minX < 0 && getHit($hScrollbar, 5, point, false);\r\n                    modeY = !modeX && $vScrollbar && minY < 0 && getHit($vScrollbar, 5, point, true);\r\n                    if (modeX === 2) {\r\n                        isDirY = false;\r\n                        factor = -100 / scrollbarSize.x * (1 - leadingX / wrapperSize.width);\r\n                    } else if (modeY == 2) {\r\n                        isDirY = true;\r\n                        factor = -100 / scrollbarSize.y * (1 - leadingY / wrapperSize.height);\r\n                    }\r\n                    scrollbarMode = modeX || modeY;\r\n                }\r\n                if (!hasTouch && handle === 'scrollbar' && !scrollbarMode) {\r\n                    return;\r\n                }\r\n                if (!hasTouch) {\r\n                    e.preventDefault();\r\n                }\r\n                if (scrollbarMode) {\r\n                    $current = $current || $wrapper;\r\n                }\r\n\r\n                function handleStart() {\r\n                    if (!hasTouch) {\r\n                        $blockLayer.appendTo(document.body);\r\n                    }\r\n                    setScrollStart(scrollbarMode ? 'scrollbar' : 'gesture', handleStop);\r\n                }\r\n\r\n                function handleEnd() {\r\n                    if (stopScroll) {\r\n                        stopScroll();\r\n                    }\r\n                    if (eventState) {\r\n                        setScrollEnd();\r\n                    }\r\n                    $wrapper.removeClass(options.scrollingClass);\r\n                }\r\n\r\n                function handleMove(e) {\r\n                    lastTouch = null;\r\n                    if ($current && $current !== $wrapper || snappedToPage) {\r\n                        return;\r\n                    }\r\n                    var point = getEventPosition(e);\r\n                    var deltaX = point.x - lastPoint.x;\r\n                    var deltaY = point.y - lastPoint.y;\r\n                    var touchDeltaX = deltaX;\r\n                    var touchDeltaY = deltaY;\r\n                    var newX = startX + (point.x - firstPoint.x) * factor;\r\n                    var newY = startY + (point.y - firstPoint.y) * factor;\r\n                    var distX = m.abs(point.x - firstPoint.x);\r\n                    var distY = m.abs(point.y - firstPoint.y);\r\n                    var thisDirY = distX / distY < 1;\r\n                    var hBounce = options.hBounce && !scrollbarMode;\r\n                    var vBounce = options.vBounce && !scrollbarMode;\r\n\r\n                    if ((!deltaX && !deltaY) || (!eventState && hasTouch === 'stylus' && distX < 10 && distY < 10)) {\r\n                        return;\r\n                    }\r\n                    e.preventDefault();\r\n                    lastPoint = point;\r\n\r\n                    if (scrollbarMode % 2) {\r\n                        return;\r\n                    }\r\n                    if (isDirY === undefined) {\r\n                        if (!scrollbarMode) {\r\n                            // exit if the gesture does not suggest a scroll\r\n                            if ((!hasTouch && distX < 6 && distY < 6) || (!canScrollY && thisDirY) || (!canScrollX && !thisDirY)) {\r\n                                return;\r\n                            }\r\n                            // check if user is scrolling inner content\r\n                            var scrollInner = canScrollInnerElement(e.target, $wrapper[0]);\r\n                            if (scrollInner && scrollInner.x && scrollInner.y) {\r\n                                handleStop(e);\r\n                                return;\r\n                            }\r\n                            if ((thisDirY ? newY > 0 || newY < minY : newX > 0 || newX < minX) && ($wrapper.css('overscroll-behavior') || 'auto') === 'auto') {\r\n                                return;\r\n                            }\r\n                            isDirY = 0;\r\n                            if (scrollInner) {\r\n                                isDirY = !scrollInner.y;\r\n                            } else if (options.lockDirection) {\r\n                                isDirY = distX >= distY + 6 ? false : distY >= distX + 6 ? true : isDirY;\r\n                            }\r\n                        } else {\r\n                            isDirY = thisDirY;\r\n                        }\r\n                    }\r\n                    $current = $current || $wrapper;\r\n                    if (!eventState) {\r\n                        handleStart();\r\n                    }\r\n\r\n                    // lock direction\r\n                    if (!canScrollY || (isDirY !== 0 && !isDirY)) {\r\n                        newY = y;\r\n                        deltaY = 0;\r\n                        if (canScrollY) {\r\n                            touchDeltaY = 0;\r\n                        }\r\n                    }\r\n                    if (!canScrollX || (isDirY !== 0 && isDirY)) {\r\n                        newX = x;\r\n                        deltaX = 0;\r\n                        if (canScrollX) {\r\n                            touchDeltaX = 0;\r\n                        }\r\n                    }\r\n\r\n                    // slow down if outside of the boundaries\r\n                    if (newX > 0 || newX < minX) {\r\n                        newX = hBounce ? x + (deltaX / 2) : newX > 0 ? 0 : minX;\r\n                        if (!hBounce) {\r\n                            pressureX = m.max(0, 100 - m.abs(pressureX)) * ((pressureX || deltaX) / m.abs(pressureX || deltaX)) / 2 + pressureX;\r\n                        }\r\n                    } else if (newX !== x) {\r\n                        if (!hBounce) {\r\n                            pressureX = pressureX / 4;\r\n                        }\r\n                    }\r\n                    if (newY > 0 || newY < minY) {\r\n                        newY = vBounce ? y + (deltaY / 2) : newY > 0 ? 0 : minY;\r\n                        if (!vBounce) {\r\n                            pressureY = m.max(0, 100 - m.abs(pressureY)) * ((pressureY || deltaY) / m.abs(pressureY || deltaY)) / 2 + pressureY;\r\n                        }\r\n                    } else if (newY !== y) {\r\n                        if (!vBounce) {\r\n                            pressureY = pressureY / 4;\r\n                        }\r\n                    }\r\n\r\n                    if (options.pageItem && options.snapToPage) {\r\n                        var p = normalizePosition(newX, newY, true);\r\n                        newX = p.x;\r\n                        newY = p.y;\r\n                        if (p.pageChanged) {\r\n                            scrollTo(newX, newY, options.bounceDuration);\r\n                            snappedToPage = true;\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    fireEvent('touchMove', startX, startY, newX, newY, touchDeltaX, touchDeltaY);\r\n                    if (newX !== x || newY !== y) {\r\n                        setScrollMove(newX, newY);\r\n                    }\r\n                    setGlow(pressureX, pressureY);\r\n                }\r\n\r\n                function handleStop(e) {\r\n                    if ($current === $wrapper) {\r\n                        $current = null;\r\n                    }\r\n                    $(document).off(bindedHandler);\r\n\r\n                    if (eventTarget.releaseCapture) {\r\n                        eventTarget.releaseCapture();\r\n                    }\r\n\r\n                    if (eventState) {\r\n                        if (!hasTouch) {\r\n                            // Firefox will fire mouseup and click event on the mousedown target\r\n                            // whenever the mousedown default behavior is canceled\r\n                            if (e && e.target === eventTarget && window.addEventListener) {\r\n                                window.addEventListener('click', function cancelClick(e) {\r\n                                    e.stopImmediatePropagation();\r\n                                    e.preventDefault();\r\n                                    window.removeEventListener('click', cancelClick, true);\r\n                                }, true);\r\n                            }\r\n                            $blockLayer.detach();\r\n                        }\r\n                        fireEvent('scrollStop', startX, startY);\r\n                        if ($hGlow) {\r\n                            $hGlow.fadeOut();\r\n                        }\r\n                        if ($vGlow) {\r\n                            $vGlow.fadeOut();\r\n                        }\r\n                        if (snappedToPage || scrollbarMode) {\r\n                            handleEnd();\r\n                            return;\r\n                        }\r\n\r\n                        var duration = (+new Date()) - startTime;\r\n                        var factor = !!options.momentum && duration < 300;\r\n                        scrollWithMomentum(eventState.startX, eventState.startY, factor * (startX - x) / duration, factor * (startY - y) / duration, handleEnd);\r\n                    } else {\r\n                        handleEnd();\r\n                    }\r\n                }\r\n\r\n                // stop any running animation\r\n                if (cancelAnim) {\r\n                    cancelAnim();\r\n                }\r\n\r\n                bindedHandler[EV_MOVE] = handleMove;\r\n                bindedHandler[EV_END] = handleStop;\r\n                bindedHandler[EV_CANCEL] = handleStop;\r\n                $(document).on(bindedHandler);\r\n                cancelScroll = handleStop;\r\n\r\n                // trick to let IE fire mousemove event when pointer moves outside the window\r\n                // and to prevent IE from selecting or dragging elements (e.preventDefault() does not work!)\r\n                if (eventTarget.setCapture) {\r\n                    eventTarget.setCapture();\r\n                }\r\n\r\n                $wrapper.addClass(options.scrollingClass);\r\n\r\n                if (scrollbarMode % 2) {\r\n                    stopScroll = startScrollPerFrame(function (scrollBy) {\r\n                        var hit = getHit(modeX ? $hScrollbar : $vScrollbar, 5, lastPoint, modeY);\r\n                        if (hit === scrollbarMode) {\r\n                            scrollBy(modeX, modeY);\r\n                        }\r\n                    });\r\n                    handleStart();\r\n                }\r\n            }\r\n\r\n            function startScrollByAuxClick(e) {\r\n                var ev = e.originalEvent;\r\n                var canScrollX = options.hScroll && minX;\r\n                var canScrollY = options.vScroll && minY;\r\n                var defaultCursor = 'all-scroll';\r\n                var stopScroll;\r\n                var speedX;\r\n                var speedY;\r\n\r\n                if ((!canScrollX && !canScrollY) || e.which !== 2) {\r\n                    return;\r\n                }\r\n\r\n                function handleStop() {\r\n                    if (stopScroll) {\r\n                        stopScroll();\r\n                        setScrollEnd();\r\n                    }\r\n                    $(document).off(bindedHandler);\r\n                    $blockLayer.detach().css('cursor', 'default');\r\n                }\r\n\r\n                function handleScroll(e) {\r\n                    var deltaX = e.clientX - ev.clientX;\r\n                    var deltaY = e.clientY - ev.clientY;\r\n                    speedX = canScrollX && m.abs(deltaX) >= 20 ? deltaX / 200 : 0;\r\n                    speedY = canScrollY && m.abs(deltaY) >= 20 ? deltaY / 200 : 0;\r\n                    if (speedX || speedY) {\r\n                        if (!stopScroll) {\r\n                            stopScroll = startScrollPerFrame(function (scrollBy) {\r\n                                scrollBy(speedX, speedY);\r\n                            });\r\n                            setScrollStart('auxclick', handleStop);\r\n                        }\r\n                        $blockLayer.css('cursor', (!speedY ? '' : speedY < 0 ? 'n' : 's') + (!speedX ? '' : speedX < 0 ? 'w' : 'e') + '-resize');\r\n                    } else {\r\n                        $blockLayer.css('cursor', defaultCursor);\r\n                    }\r\n                }\r\n\r\n                // stop any running animation\r\n                if (cancelAnim) {\r\n                    cancelAnim();\r\n                }\r\n                e.stopPropagation();\r\n\r\n                var bindedHandler = {\r\n                    mousemove: handleScroll,\r\n                    mousedown: handleStop\r\n                };\r\n                $(document).on(bindedHandler);\r\n                $blockLayer.appendTo(document.body).css('cursor', defaultCursor);\r\n                cancelScroll = handleStop;\r\n            }\r\n\r\n            function startScrollByWheel(e) {\r\n                var ev = e.originalEvent;\r\n                var wheelDeltaX = 0;\r\n                var wheelDeltaY = 0;\r\n                var canScrollX = options.hScroll && minX < 0;\r\n                var canScrollY = options.vScroll && minY < 0;\r\n\r\n                if (!options.wheel || e.ctrlKey || e.altKey || e.shiftKey || e.metaKey || e.isDefaultPrevented() || (!canScrollX && !canScrollY)) {\r\n                    return;\r\n                }\r\n                if (ev.deltaX !== undefined) {\r\n                    wheelDeltaX = ev.deltaX;\r\n                    wheelDeltaY = ev.deltaY;\r\n                } else if (ev.wheelDeltaX !== undefined) {\r\n                    wheelDeltaX = -ev.wheelDeltaX;\r\n                    wheelDeltaY = -ev.wheelDeltaY;\r\n                } else if (ev.wheelDelta !== undefined) {\r\n                    wheelDeltaY = -ev.wheelDelta;\r\n                } else if (ev.detail !== undefined) {\r\n                    wheelDeltaY = ev.detail;\r\n                }\r\n                if (!wheelDeltaX && !wheelDeltaY) {\r\n                    return;\r\n                }\r\n                if ($current && $current !== $wrapper && ($wrapper.find($current)[0] || $current.find($wrapper)[0])) {\r\n                    return;\r\n                }\r\n                if (!canScrollY && !wheelDeltaX && options.inferWheelX) {\r\n                    wheelDeltaX = wheelDeltaY;\r\n                }\r\n                var isDirY = m.abs(wheelDeltaY) > m.abs(wheelDeltaX);\r\n                var scrollInner = canScrollInnerElement(e.target, $wrapper[0]);\r\n                if (scrollInner && (isDirY ? scrollInner.y : scrollInner.x)) {\r\n                    return;\r\n                }\r\n                if ((!canScrollX && !isDirY) || (!canScrollY && isDirY)) {\r\n                    return;\r\n                }\r\n                wheelDeltaX *= canScrollX;\r\n                wheelDeltaY *= canScrollY;\r\n                refresh();\r\n\r\n                var newPos = normalizePosition(x - wheelDeltaX, y - wheelDeltaY, true);\r\n                var newX = newPos.x;\r\n                var newY = newPos.y;\r\n                if (newX !== x || newY !== y || ($current !== $wrapper && $wrapper.css('overscroll-behavior') !== 'auto')) {\r\n                    $current = $wrapper;\r\n                }\r\n                if ($current === $wrapper) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    clearTimeout(wheelLock);\r\n                    wheelLock = setTimeout(function () {\r\n                        $current = null;\r\n                    }, 250);\r\n                }\r\n                if (newX === x && newY === y) {\r\n                    return;\r\n                }\r\n                if (wheelState && wheelState.cancelled) {\r\n                    if (m.abs(wheelDeltaX / 100) <= m.abs(wheelState.dx) && m.abs(wheelDeltaY / 100) <= m.abs(wheelState.dy)) {\r\n                        return;\r\n                    }\r\n                    wheelState = null;\r\n                }\r\n                var timestamp = Date.now();\r\n                if (!wheelState || (wheelState.ending && (wheelDeltaX / 0 !== wheelState.dx / 0) && (wheelDeltaY / 0 !== wheelState.dy / 0))) {\r\n                    var handleEnd = function (cancelled) {\r\n                        if (cancelled) {\r\n                            wheelState.cancelled = true;\r\n                        } else {\r\n                            wheelState = null;\r\n                        }\r\n                        stopScroll();\r\n                        setScrollEnd();\r\n                    };\r\n                    var stopScroll = startScrollPerFrame(function (scrollBy, timestamp) {\r\n                        if (timestamp - wheelState.timestamp > 100 || timestamp - wheelState.ending > 300) {\r\n                            var momemtum = !!(wheelState.momentum && options.momentum);\r\n                            scrollWithMomentum(eventState.startX, eventState.startY, wheelState.dx * momemtum, wheelState.dy * momemtum, handleEnd);\r\n                            stopScroll();\r\n                        } else {\r\n                            var scrolled = scrollBy(wheelState.dx, wheelState.dy, wheelState.momentum && options.bounce);\r\n                            if (!scrolled && (x > 0 || x < minX || y > 0 || y < minY) && !wheelState.ending) {\r\n                                wheelState.ending = timestamp;\r\n                            }\r\n                        }\r\n                    });\r\n                    setScrollStart('wheel', handleEnd);\r\n                    wheelState = {\r\n                        startTime: timestamp\r\n                    };\r\n                }\r\n                wheelState.timestamp = timestamp;\r\n                wheelState.dx = wheelDeltaX / 100;\r\n                wheelState.dy = wheelDeltaY / 100;\r\n                if ((wheelDeltaX && m.abs(wheelDeltaX) < 50) || (wheelDeltaY && m.abs(wheelDeltaY) < 50)) {\r\n                    wheelState.momentum = true;\r\n                }\r\n            }\r\n\r\n            function startScrollByKey(e) {\r\n                if (e.isDefaultPrevented()) {\r\n                    return;\r\n                }\r\n                var ev = e.originalEvent;\r\n                var key = e.keyCode;\r\n                var dx = 0;\r\n                var dy = 0;\r\n                switch (key) {\r\n                    case 32: // space\r\n                        if ($(document.activeElement).is('select,button,input,textarea')) {\r\n                            return;\r\n                        }\r\n                    case 33: // pageUp\r\n                    case 34: // pageDown\r\n                        dx = 0;\r\n                        dy = wrapperSize.height * (key === 33 ? -0.8 : 0.8);\r\n                        break;\r\n                    case 37: // leftArrow\r\n                    case 38: // upArrow\r\n                    case 39: // rightArrow\r\n                    case 40: // downArrow\r\n                        if ($(document.activeElement).is(':text')) {\r\n                            return;\r\n                        }\r\n                        dx = key === 37 ? -50 : key === 39 ? 50 : 0;\r\n                        dy = key === 38 ? -50 : key === 40 ? 50 : 0;\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n                refresh();\r\n                var newPos = normalizePosition(x - dx, y - dy, true);\r\n                if (newPos.x === x && newPos.y === y) {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n\r\n                if (!ev || !ev.repeat) {\r\n                    setScrollStart('keydown', function () { });\r\n                    scrollTo(newPos.x, newPos.y, 50, setScrollEnd);\r\n                    return;\r\n                }\r\n                if (!keyState) {\r\n                    var handleEnd = function () {\r\n                        keyState = null;\r\n                        stopScroll();\r\n                        setScrollEnd();\r\n                    };\r\n                    var stopScroll = startScrollPerFrame(function (scrollBy, timestamp) {\r\n                        if (timestamp - keyState.timestamp > 100) {\r\n                            handleEnd();\r\n                        } else {\r\n                            scrollBy(dx / 200, dy / 200);\r\n                        }\r\n                    });\r\n                    setScrollStart('keydown', handleEnd);\r\n                    keyState = {};\r\n                }\r\n                keyState.timestamp = Date.now();\r\n            }\r\n\r\n            // setup event handlers\r\n            var handlers = {\r\n                scroll: fixNativeScrollHandler,\r\n                transitionend: refreshNext,\r\n                animationend: refreshNext,\r\n                touchstart: startScrollByPointer,\r\n                mousedown: startScrollByPointer,\r\n                auxclick: startScrollByAuxClick,\r\n                keydown: startScrollByKey\r\n            };\r\n            handlers[EV_WHEEL] = startScrollByWheel;\r\n            $wrapper.on(handlers);\r\n\r\n            // setup initial style\r\n            if ($hScrollbar && options.handle === 'content') {\r\n                $hScrollbar.css('pointer-events', 'none');\r\n            }\r\n            if ($vScrollbar && options.handle === 'content') {\r\n                $vScrollbar.css('pointer-events', 'none');\r\n            }\r\n            if ($wrapper.css('overflow') !== 'hidden' && $wrapper.css('overflow') !== 'visible') {\r\n                $wrapper.css('overflow', 'hidden');\r\n            }\r\n\r\n            if (window.MutationObserver) {\r\n                mutationObserver = new MutationObserver(function () {\r\n                    if (!muteMutations && enabled) {\r\n                        stickyElements.forEach(function (v, i) {\r\n                            if (!i.isConnected) {\r\n                                removeStickyElement(i);\r\n                            }\r\n                        });\r\n                        if (resizeObserver) {\r\n                            mediaElements.forEach(function (v) {\r\n                                if (!v.isConnected) {\r\n                                    mediaElements.delete(v);\r\n                                    resizeObserver.unobserve(v);\r\n                                }\r\n                            });\r\n                            if ($content[0]) {\r\n                                // use querySelectorAll to avoid infinite mutation loop due to sizzle engine\r\n                                $.each($content[0].querySelectorAll('img, video'), function (i, v) {\r\n                                    if (!mediaElements.has(v)) {\r\n                                        mediaElements.add(v);\r\n                                        resizeObserver.observe(v);\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                        refreshNext(true);\r\n                    }\r\n                });\r\n                mutationObserver.observe($wrapper[0], {\r\n                    subtree: true,\r\n                    childList: true,\r\n                    attributes: true,\r\n                    characterData: true\r\n                });\r\n            }\r\n            if (window.ResizeObserver) {\r\n                mediaElements = new Set();\r\n                resizeObserver = new ResizeObserver(function () {\r\n                    refresh();\r\n                });\r\n                resizeObserver.observe($wrapper[0]);\r\n            }\r\n\r\n            // plugin interface\r\n            $wrapper.data(DATA_ID, {\r\n                get scrollTarget() {\r\n                    return $content[0] || null;\r\n                },\r\n                get scrollX() {\r\n                    return -x;\r\n                },\r\n                get scrollY() {\r\n                    return -y;\r\n                },\r\n                get scrollPercentX() {\r\n                    return minX ? (x / minX) * 100 : 100;\r\n                },\r\n                get scrollPercentY() {\r\n                    return minY ? (y / minY) * 100 : 100;\r\n                },\r\n                get scrollMaxX() {\r\n                    return -minX;\r\n                },\r\n                get scrollMaxY() {\r\n                    return -minY;\r\n                },\r\n                get enabled() {\r\n                    return enabled;\r\n                },\r\n                destroy: function () {\r\n                    setPosition(0, 0);\r\n                    activated.delete($wrapper[0]);\r\n                    $wrapper.off(handlers);\r\n                    $middle.off('scroll', fixNativeScrollHandler);\r\n                    if ($hScrollbar) {\r\n                        $hScrollbar.remove();\r\n                    }\r\n                    if ($vScrollbar) {\r\n                        $vScrollbar.remove();\r\n                    }\r\n                    // release memory from MutationObserver callback\r\n                    refresh = function () { };\r\n                    options = {};\r\n                    enabled = false;\r\n                    $wrapper.data(DATA_ID, null);\r\n                    array.splice.call($wrapper, 0, 1);\r\n                    array.splice.call($content, 0, 1);\r\n                    stickyElements.forEach(function (v, i) {\r\n                        removeStickyElement(i);\r\n                    });\r\n                    if (mutationObserver) {\r\n                        mutationObserver.disconnect();\r\n                    }\r\n                    if (resizeObserver) {\r\n                        resizeObserver.disconnect();\r\n                    }\r\n                },\r\n                enable: function () {\r\n                    if (!enabled) {\r\n                        enabled = true;\r\n                        $wrapper.on(handlers);\r\n                        refresh();\r\n                        toggleScrollbars();\r\n                    }\r\n                },\r\n                disable: function () {\r\n                    if (enabled) {\r\n                        enabled = false;\r\n                        $wrapper.off(handlers);\r\n                        toggleScrollbars();\r\n                    }\r\n                },\r\n                setOptions: function (values) {\r\n                    $.extend(options, values);\r\n                    refresh(true);\r\n                },\r\n                setStickyPosition: function (element, dir, within, fixed) {\r\n                    if (typeof within === 'boolean') {\r\n                        fixed = within;\r\n                        within = null;\r\n                    }\r\n                    var config = {\r\n                        dirX: /\\b(left|right)\\b/.test(dir) && RegExp.$1,\r\n                        dirY: /\\b(top|bottom)\\b/.test(dir) && RegExp.$1,\r\n                        within,\r\n                        fixed\r\n                    };\r\n                    if (typeof element === 'string') {\r\n                        stickyConfig.set(element, config);\r\n                    } else {\r\n                        setStickyElement(element, config);\r\n                    }\r\n                    refreshNext(true);\r\n                },\r\n                refresh: function () {\r\n                    refresh(true);\r\n                },\r\n                scrollPadding: function (target) {\r\n                    return getScrollPadding(target);\r\n                },\r\n                stop: function () {\r\n                    if (cancelScroll) {\r\n                        cancelScroll();\r\n                    }\r\n                    stopX = x;\r\n                    stopY = y;\r\n                },\r\n                scrollLeft: function () {\r\n                    return -stopX;\r\n                },\r\n                scrollTop: function () {\r\n                    return -stopY;\r\n                },\r\n                scrollBy: function (dx, dy, duration, callback) {\r\n                    return scrollToPreNormalized(x - (dx || 0), y - (dy || 0), duration, callback) || getResolvePromise();\r\n                },\r\n                scrollTo: function (x, y, duration, callback) {\r\n                    return scrollToPreNormalized(-x, -y, duration, callback) || getResolvePromise();\r\n                },\r\n                scrollByPage: function (dx, dy, duration, callback) {\r\n                    return scrollByPage(dx, dy, duration, callback) || getResolvePromise();\r\n                },\r\n                scrollToPage: function (x, y, duration, callback) {\r\n                    return scrollToPreNormalized(-x * wrapperSize.width || 0, -y * wrapperSize.height, duration, callback) || getResolvePromise();\r\n                },\r\n                scrollToElement: function (target, targetOrigin, wrapperOrigin, duration, callback) {\r\n                    return scrollToElement(target, targetOrigin, wrapperOrigin, duration, callback) || getResolvePromise();\r\n                }\r\n            });\r\n\r\n            refresh(true);\r\n        });\r\n    };\r\n\r\n    $.scrollable = function (element, options) {\r\n        if (typeof options === 'object') {\r\n            $(element).scrollable(options);\r\n        }\r\n        return $.data(element, DATA_ID);\r\n    };\r\n    $.scrollable.hook = function (hook) {\r\n        hooks.push(hook);\r\n    };\r\n\r\n    var resizeTimeout;\r\n    $(window).on(EV_RESIZE, function () {\r\n        clearTimeout(resizeTimeout);\r\n        resizeTimeout = setTimeout(function () {\r\n            $(getActivatedWrappers()).scrollable('refresh');\r\n        }, isAndroid ? 200 : 0);\r\n    });\r\n\r\n    $(window).on('keydown', function (e) {\r\n        if (!e.isDefaultPrevented() && activated.size) {\r\n            switch (e.keyCode) {\r\n                case 32: // space\r\n                case 33: // pageUp\r\n                case 34: // pageDown\r\n                case 37: // leftArrow\r\n                case 38: // upArrow\r\n                case 39: // rightArrow\r\n                case 40: // downArrow\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            var activeElement = getAnchorElement();\r\n            if (activeElement) {\r\n                $(activeElement).parents().each(function (i, v) {\r\n                    if (activated.has(v)) {\r\n                        $(v).triggerHandler(e);\r\n                        return !e.isDefaultPrevented();\r\n                    }\r\n                });\r\n                return;\r\n            } else if (!isPageScrollable()) {\r\n                var elements = getActivatedWrappers().filter(function (v) {\r\n                    var instances = $.data(v, DATA_ID);\r\n                    return instances.enabled && (instances.scrollMaxX || instances.scrollMaxY);\r\n                });\r\n                // guess the main content area\r\n                var max = 0;\r\n                elements = elements.filter(function (v) {\r\n                    if (elements.indexOf(getParentWrapper(v)) >= 0) {\r\n                        return false;\r\n                    }\r\n                    var r = getRect(v);\r\n                    var a = r.width * r.height;\r\n                    return a > max ? (max = a) : 0;\r\n                });\r\n                $(elements).last().triggerHandler(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    try {\r\n        if (window.top !== window.self) {\r\n            $(window.top).on('mouseenter', function () {\r\n                $(document).trigger('mouseup');\r\n            });\r\n        }\r\n    } catch (e) { }\r\n\r\n})();\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__786__","__webpack_module_cache__","$","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","zeroMomentum","dist","time","zeroSize","width","height","zeroOrigin","percentX","percentY","offsetX","offsetY","zeroOffset","top","left","right","bottom","originKeyword","center","pMargin","pPadding","pBorder","pScrollPadding","mround","window","devicePixelRatio","r","array","Array","prototype","m","Math","vendor","test","navigator","appVersion","userAgent","opera","isAndroid","DOMMatrix","WebKitCSSMatrix","MSCSSMatrix","document","documentElement","hasTransform3d","m11","hasTransform","style","trnOpen","trnClose","translate","x","y","pc","v","toFixed","px","cssvar","CSS","supports","varname","value","_","coalesce","def","EV_WHEEL","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","cancelFrame","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","$blockLayer","$originDiv","activated","Map","stickyParents","WeakMap","hooks","DATA_ID","$current","wheelLock","muteMutations","resizeTimeout","parseOrigin","RegExp","$1","$3","$2","$4","$5","$6","createScrollbar","$elm","dir","options","$track","appendTo","$scrollbar","children","eq","css","scrollbarTrackStyle","scrollbarStyle","scrollbarClass","addClass","createGlow","glowStyle","glowClass","getEventPosition","e","point","originalEvent","touches","clientX","clientY","Rect","l","t","b","this","toPlainRect","clip","getRect","elm","rect","body","contains","appendChild","o","offsetWidth","offsetHeight","getBoundingClientRect","getDimension","getComputedStyle","parseFloat","getOuterDimension","getHit","margin","isDirY","r0","hitX","hitY","r1","parent","calculateMomentum","signSpeed","maxDist","overshoot","deceleration","speed","abs","newDist","max","canScrollInnerElement","cur","clampX","clampY","parentNode","scrollHeight","overflowY","scrollWidth","overflowX","getActivatedWrappers","elements","forEach","i","push","flushChanges","mute","fn","scrollable","optionOverrides","returnValue","args","arguments","each","obj","data","apply","slice","call","console","warn","Promise","resolve","batchOptions","content","cancel","getWrapperDimension","getContentDimension","handle","wheel","inferWheelX","hScroll","vScroll","hGlow","vGlow","bounce","hBounce","vBounce","bounceDuration","momentum","lockDirection","scrollingClass","scrollableXClass","scrollableYClass","scrollbar","scrollbarInset","scrollbarSize","glow","pageItem","pageItemAlign","pageDirection","snapToPage","sticky","stickyHandle","stickyToBottom","stickyClass","touchMove","scrollStart","scrollMove","scrollStop","scrollEnd","scrollProgressChange","extend","cssInset","cssSize","cssInsetXY","backgroundColor","borderRadius","opacity","minWidth","minHeight","minX","minY","lastTouch","stickyRect","refreshTimeout","mutationObserver","resizeObserver","mediaElements","cancelScroll","cancelAnim","updateContentOnRefresh","eventTrigger","eventState","wheelState","keyState","$wrapper","$content","$pageItems","$middle","$hScrollbar","hide","$vScrollbar","$hGlow","$vGlow","$scrollbars","find","enabled","leadingX","leadingY","stopX","stopY","pendingX","pendingY","contentSize","wrapperSize","stickyConfig","stickyElements","has","Error","getPageIndex","offset","props","count","length","newIndex","alignFn","Infinity","d","getScrollPadding","target","getValue","prop","stickyPadding","targetRect","state","a","fixed","within","dirX","padX","dirY","padY","getScrollState","startX","startY","newX","newY","deltaX","deltaY","pageIndex","curX","curY","trigger","getResolvePromise","fireEvent","type","flag","updateStickyPositions","normalizePosition","forcePageChange","normalizeInternal","newPos","align","oldPos","itemCount","curIndex","ceil","alignProp","distStart","distEnd","snapPos","pageChanged","removeStickyElement","element","get","delete","removeClass","setStickyElement","config","bind","closest","set","beforeScrollStart","ptop","pleft","pright","pbottom","signX","signY","r2","r3","tm","transform","r0x","r0y","f","maxX","maxY","toggleClass","toggleScrollbars","toggle","setPosition","setScrollMove","prevX","prevY","setScrollStart","onCancel","setScrollEnd","scrollTo","duration","frameId","fireStart","startTime","Date","promise","res","finish","animate","elapsed","easeOut","sqrt","scrollToPreNormalized","refresh","p","fixNativeScrollHandler","scrollTop","scrollLeft","currentTarget","updateContent","is","wrappers","scrollableOffsetX","scrollableOffsetY","splice","parentsUntil","not","on","end","selector","oMinX","oMinY","trailingX","trailingY","$clip","filter","min","centerX","isConnected","append","refreshNext","startScrollPerFrame","bouncing","lastTime","now","timeout","step","curTime","dx","dy","factor","next","scrollWithMomentum","speedX","speedY","handleEnd","momentumX","momentumY","startScrollByPointer","hasTouch","touchType","EV_MOVE","EV_END","EV_CANCEL","ctrlKey","altKey","shiftKey","metaKey","isDefaultPrevented","which","preventDefault","scrollbarMode","modeX","modeY","stopScroll","pressureX","pressureY","lastPoint","firstPoint","eventTarget","bindedHandler","snappedToPage","canScrollX","canScrollY","touchDeltaX","touchDeltaY","distX","distY","thisDirY","scrollInner","handleStop","handleStart","fadeIn","fadeOut","setGlow","setCapture","scrollBy","off","releaseCapture","addEventListener","cancelClick","stopImmediatePropagation","removeEventListener","detach","takeRecords","handlers","scroll","transitionend","animationend","touchstart","mousedown","auxclick","ev","defaultCursor","stopPropagation","mousemove","keydown","key","keyCode","activeElement","repeat","timestamp","wheelDeltaX","wheelDeltaY","wheelDelta","detail","cancelled","ending","momemtum","MutationObserver","unobserve","querySelectorAll","add","observe","subtree","childList","attributes","characterData","ResizeObserver","Set","scrollTarget","scrollX","scrollY","scrollPercentX","scrollPercentY","scrollMaxX","scrollMaxY","destroy","remove","disconnect","enable","disable","setOptions","values","setStickyPosition","scrollPadding","stop","scrollByPage","scrollToPage","scrollToElement","targetOrigin","wrapperOrigin","oriE","oriW","posE","posW","round","hook","size","selection","getSelection","range","getRangeAt","commonAncestorContainer","getAnchorElement","parents","triggerHandler","overflow","result","isPageScrollable","instances","indexOf","getParentWrapper","last"],"sourceRoot":""}