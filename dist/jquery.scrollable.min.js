!function(t){"function"==typeof define&&define.amd?define("jquery-scrollable",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(Q){"use strict";function J(t){return(t||0).toFixed(5)+"%"}function E(t){return(t||0)+"px"}function s(t,e){return void 0===t?e:t}var Z,_,t,tt={dist:0,time:0},et={width:0,height:0},e={percentX:0,percentY:0,offsetX:0,offsetY:0},o={center:.5,right:1,bottom:1},ot=["marginTop","marginRight","marginBottom","marginLeft"],nt=["paddingTop","paddingRight","paddingBottom","paddingLeft"],lt=["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],rt=["scrollPaddingTop","scrollPaddingRight","scrollPaddingBottom","scrollPaddingLeft"],it=function(t){return t>>0},st=Array.prototype,at=Math,ct=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":window.opera?"O":"",n=/android/gi.test(navigator.appVersion),l=/hp-tablet/gi.test(navigator.appVersion),r=document.documentElement,ut=void 0!==window.ontouchstart&&!l,dt=void 0!==r.style[ct+"Transform"],l=window.WebKitCSSMatrix&&void 0!==(new window.WebKitCSSMatrix).m11,ft=!1,pt="translate"+(l?"3d(":"("),ht=l?",0)":")",a=window.CSS&&CSS.supports("color","var(--primary)")?function(t,e){return"var(--jqs-"+t+", "+e+")"}:function(t,e){return e},gt="onwheel"in window?"wheel":"Moz"==ct?"DOMMouseScroll":"mousewheel",mt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,0)},vt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,bt=Q('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);"></div>'),i=Q('<div style="position:fixed;top:0;left:0;">')[0],wt=Q(),yt="xScrollable",xt="xScrollableSticky";function Ct(t){return/(left|center|right)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?(?:\s+(top|center|bottom)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?)?/g.test(t)?{percentX:(o[RegExp.$1]||0)+("%"===RegExp.$3&&+RegExp.$2),percentY:(o[RegExp.$4||!RegExp.$5&&RegExp.$1]||0)+("%"===RegExp.$6&&+RegExp.$5),offsetX:+("px"===RegExp.$3&&+RegExp.$2),offsetY:+("px"===RegExp.$6&&+RegExp.$5)}:e}function c(t,e,o){var n=Q('<div style="position:absolute;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css(o.scrollbarTrackStyle),n.css("x"===e?"left":"top",o.scrollbarTrackStyle["x"===e?"right":"bottom"]),t.css(o.scrollbarStyle),o.scrollbarClass&&n.addClass(o.scrollbarClass+" "+o.scrollbarClass+"-"+e),t}function u(t,e,o){var n=Q('<div style="position:absolute;pointer-events:none;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"height":"width","100%"),n.css(o.glowStyle),t.css("x"===e?"height":"width","100%"),o.glowClass&&n.addClass(o.glowClass+" "+o.glowClass+"-"+e),t}function St(t){t=(t.originalEvent.touches||[t])[0];return{x:t.clientX,y:t.clientY}}function d(t,e,o,n){var l=this;l.left=t,l.top=e,l.right=o,l.bottom=n,l.width=l.right-l.left,l.height=l.bottom-l.top}function Tt(t,e,o,n){function l(t){return it(1e3*t)/1e3}return void 0!==t.top?new d(l(t.left),l(t.top),l(t.right),l(t.bottom)):void 0===o?new d(t,e,t,e):new d(t,e,o,n)}function kt(t){var e;return t===r||t===window?(document.body.contains(i[0])||document.body.appendChild(i[0]),e=kt(i[0]),Tt(0,0,r.offsetWidth,r.offsetHeight).translate(e.left,e.top)):r.contains(t)?Tt(t.getBoundingClientRect()):Tt(0,0,0,0)}function f(t){if(t[0]){var e=getComputedStyle(t[0]),t=kt(t[0]);return{width:t.right-t.left-(parseFloat(e[nt[1]])+parseFloat(e[nt[3]])+parseFloat(e[lt[1]])+parseFloat(e[lt[3]])),height:t.bottom-t.top-(parseFloat(e[nt[0]])+parseFloat(e[nt[2]])+parseFloat(e[lt[0]])+parseFloat(e[lt[2]]))}}}function p(t){if(t[0]){t=kt(t[0]);return{width:t.width,height:t.height}}}function Dt(t,e,o,n){var l=kt(t[0]),r=o.x+e>=l.left&&o.x-e<=l.right,e=o.y+e>=l.top&&o.y-e<=l.bottom;if(r&&e)return 2;t=kt(t.parent()[0]);if(n){if(r&&o.y>=t.top&&o.y<=t.bottom)return o.y>l.bottom?1:-1}else if(e&&o.x>=t.left&&o.x<=t.right)return o.x>l.right?1:-1}function Ft(t,e,o,n){var l=at.abs(t)/e,e=l*l/.0012;return o<e&&(l=l*(o+=n/(6/(e/l*6e-4)))/e,e=o),e<=0?tt:{dist:e*(t<0?-1:1),time:at.max(10,it(l/6e-4))}}function Et(t,e){for(;t!==e;t=t.parentNode)var o=getComputedStyle(t),n=n||t.scrollHeight>t.offsetHeight&&("auto"===o.overflowY||"scroll"===o.overflowY),l=l||t.scrollWidth>t.offsetWidth&&("auto"===o.overflowX||"scroll"===o.overflowX);return(l||n)&&{x:l,y:n}}Q.fn.scrollable=function(o){if("string"==typeof o){var n,l=arguments;return this.each(function(){var t,e=Q.data(this,yt);if(e)t=e[o].apply(null,[].slice.call(l,1));else switch(console.warn("Scrollable "+o+" should not be called before initialization"),o){case"scrollLeft":case"scrollTop":t=0;break;case"scrollPadding":t={top:0,left:0,right:0,bottom:0};break;case"scrollBy":case"scrollTo":case"scrollByPage":case"scrollToPage":case"scrollToElement":t=Promise.resolve()}if(void 0!==t)return n=t,!1}),void 0!==n?n:this}var r={content:">:visible:eq(0)",cancel:"",getWrapperDimension:f,getContentDimension:p,handle:"auto",wheel:!0,hScroll:!0,vScroll:!0,hGlow:!1,vGlow:!1,bounce:!0,hBounce:!0,vBounce:!0,bounceDuration:200,momentum:!0,lockDirection:!0,scrollingClass:"scrolling",scrollableXClass:"scrollable-x",scrollableYClass:"scrollable-y",scrollbar:c,scrollbarClass:"",scrollbarInset:3,scrollbarSize:5,scrollbarStyle:{},scrollbarTrackStyle:{},glow:u,glowClass:"",glowStyle:{},pageItem:"",pageItemAlign:"center",pageDirection:"auto",snapToPage:!1,sticky:"",stickyHandle:"",stickyToBottom:!1,stickyClass:"sticky",touchMove:null,scrollStart:null,scrollMove:null,scrollStop:null,scrollEnd:null,scrollProgressChange:null};Q.extend(r,o);var D=void 0!==o.scrollbarInset?E(o.scrollbarInset):a("scrollbar-inset","3px"),t=void 0!==o.scrollbarSize?E(o.scrollbarSize):a("scrollbar-size","5px"),F="calc("+t+" + "+D+" * 2)",e=r.scrollbarStyle,i=r.scrollbarTrackStyle;return Q.extend(i,{bottom:D,right:D}),Q.extend(e,{backgroundColor:s(e.backgroundColor,a("scrollbar-color","black")),borderRadius:s(e.borderRadius,a("scrollbar-radius",0)),opacity:s(e.opacity,a("scrollbar-opacity",.7)),bottom:0,right:0,minWidth:t,minHeight:t}),r.hBounce=r.bounce&&r.hBounce,r.vBounce=r.bounce&&r.vBounce,this.each(function(){var n,l,R,X,p,d,P,f,Y,c,M=Q.extend(!0,{},r),q=Q(this),u=Q(),h=Q(),g=Q(),m=Q(),A=M.scrollbar&&M.hScroll&&Q(M.scrollbar(q,"x",M)),z=M.scrollbar&&M.vScroll&&Q(M.scrollbar(q,"y",M)),B=M.glow&&M.hGlow&&Q(M.glow(q,"x",M)).hide(),I=M.glow&&M.vGlow&&Q(M.glow(q,"y",M)).hide(),s=!0,O=0,L=0,W=0,$=0,v=0,b=0,a=0,w=0,y=et,K=et;function x(t){var o="x"===p?["left","right","width"]:["top","bottom","height"],n=g.length,l=kt(q[0]);l[o[0]]-=t||0,l[o[1]]-=t||0;function r(t,e){return e[o[0]]*((n-t)/n)+e[o[1]]*(t/n)}var i,s=(l[o[0]]+l[o[1]])/2,a=1/0;return g.each(function(t,e){e=kt(e);(0|e[o[2]])>(0|l[o[2]])&&(e[o[0]]<s&&e[o[1]]>l[o[1]]||e[o[0]]<0&&e[o[1]]>s)&&(a=0,i=t);e=at.abs(r(t,e)-r(t,l));e<a&&(a=e,i=t)}),i}function C(){function t(t){return"auto"!==e[t]&&e[t]?parseFloat(e[t]):void 0}var e=getComputedStyle(q[0]),o=t(rt[0]),n=t(rt[3]),l=t(rt[1]),r=t(rt[2]);return{top:void 0!==o?o:$,left:void 0!==n?n:W,right:void 0!==l?l:z?z.width()+2*parseFloat(z.parent().css("right")):0,bottom:void 0!==r?r:A?A.height()+2*parseFloat(A.parent().css("bottom")):0}}function j(t,e,o,n,l,r,i){var s,a,c;"function"==typeof M[t]&&(c=M.pageItem?x():-1,c={type:t,startX:-e,startY:-o,offsetX:-(s=void 0===n?O:n),offsetY:-(a=void 0===l?L:l),deltaX:-r||0,deltaY:-i||0,percentX:R?s/R*100:100,percentY:X?a/X*100:100,pageIndex:c,pageItem:g[c]||null},M[t].call(q[0],c)),"scrollMove"===t&&j("scrollProgressChange",e,o,n,l,r,i)}function H(t,e,o){function n(t,e){return{x:0<t?0:t<R?R:it(t),y:0<e?0:e<X?X:it(e)}}var l=n(t,e);if(M.pageItem&&M.snapToPage){var r=M.pageItemAlign,i=p,s="x"===i?["left","right","width"]:["top","bottom","height"],a={x:O,y:L};if(l[i]!==a[i]){var c=g.length,t=x(),e=x(l[i]-a[i]),u=kt(q[0]);o&&e===t&&(l[i]<a[i]?t<c-1:0<t)&&((f=kt(g[t]))[s[2]]<u[s[2]]||(l[i]<a[i]?it(f[s[1]])<=u[s[1]]:at.ceil(f[s[0]])>=u[s[0]]))&&(e+=l[i]<a[i]?1:-1);var d,f=kt(g[e]),c=s[2];switch(f[s[2]]>u[s[2]]?c=l[i]<a[i]^t===e?s[0]:s[1]:r!==s[0]&&r!==s[1]||(c=r),c){case s[0]:d=f[s[0]];break;case s[1]:d=f[s[1]]-u[s[2]];break;default:d=(f[s[0]]+f[s[1]]-u[s[2]])/2}d=it(a[i]+u[s[0]]-d),i=e===t?(l[i]=at[l[i]<a[i]?"max":"min"](d,l[i]),l[i]===d):(l[i]=d,!0),(l=n(l.x,l.y)).pageChanged=i}}return l}function G(t,e){var o;l=!0,O=it(t),L=it(e),w=a=0,dt?u.css(ct+"Transform",(t=E(O),e=E(L),pt+t+","+e+ht)):u.css({left:E(O),top:E(L)}),A&&(o=-O/y.width*100,0<O?A.css({width:J(d.x+o),left:0,right:"auto"}):R<=O?A.css({width:J(d.x),left:J(o),right:"auto"}):A.css({width:J(100-o),left:"auto",right:0}),A.toggle(s&&R<0),A.parent().css("right",z&&X?F:D)),z&&(o=-L/y.height*100,0<L?z.css({height:J(d.y+o),top:0,bottom:"auto"}):X<=L?z.css({height:J(d.y),top:J(o),bottom:"auto"}):z.css({height:J(100-o),top:"auto",bottom:0}),z.toggle(s&&X<0),z.parent().css("bottom",A&&R?F:D)),q.toggleClass(M.scrollableXClass,R<0),q.toggleClass(M.scrollableYClass,X<0),q.toggleClass(M.scrollableXClass+"-l",O<0),q.toggleClass(M.scrollableXClass+"-r",R<O),q.toggleClass(M.scrollableYClass+"-u",L<0),q.toggleClass(M.scrollableYClass+"-d",X<L);var r=kt(q[0]),i=$+parseFloat(q.css("padding-top"));h.each(function(t,e){var o,n,l=Q(e).data(xt);document.body.contains(l)&&document.body.contains(e)&&(o=kt(l),n=kt(e),Q(e).css("font-size",Q(l).css("font-size")),M.stickyToBottom&&o.top>r.bottom-n.height?Q(e).css({position:"absolute",visibility:"visible",top:"auto",bottom:0}):o.top<r.top+i&&o.bottom>r.top+i?Q(e).css({position:"absolute",visibility:"visible",top:i-Math.max(0,r.top+i+n.height-o.bottom),bottom:"auto"}):Q(e).css({visibility:"hidden"}))}),n.takeRecords(),l=!1}function N(o,n,l,t,r,i){if(Y&&Y(),b=n,it(v=o)===O&&it(n)===L)return"function"==typeof t&&t(),Promise.resolve();var e=void 0===r;e&&(r=O,i=L);function s(){Y=null,vt(c),e&&j("scrollEnd",r,i,O,L),"function"==typeof t&&t(),u()}function a(){var t=+new Date-d;if(l<=t)return G(o,n),j("scrollMove",r,i,o,n,o-O,n-L),void s();var e=t/l-1,t=at.sqrt(1-e*e);G(e=(o-f)*t+f,t=(n-p)*t+p),j("scrollMove",r,i,e,t,e-O,t-L),c=mt(a)}var c,u,d=+new Date,f=O,p=L,h=new Promise(function(t){u=t});return Y=s,e&&j("scrollStart",r,i),a(),h}function S(t,e,o,n,l){U();l=H(-t||0,-e||0,l);return N(l.x,l.y,+o||0,n)}function V(t,e,o,n){return S((t*K.width||0)-O,(e*K.height||0)-L,o,n,!0)}function T(o,t,e,n,l){if(o=Q(o,u)[0]){U();var r=C(),i=Ct(t),s=Ct(e),a=kt(o),t=Tt((t=kt(q[0])).left+r.left,t.top+r.top,t.right-r.right,t.bottom-r.bottom),r=a.left*(1-i.percentX)+a.right*i.percentX+i.offsetX-t.left-t.width*s.percentX-s.offsetX-O,c=a.top*(1-i.percentY)+a.bottom*i.percentY+i.offsetY-t.top-t.height*s.percentY-s.offsetY-L;return h.each(function(t,e){Q.contains(Q(e).data(xt),o)&&(c-=kt(e).height)}),S(at.round(r),at.round(c),n||e,l||n)}return Promise.resolve()}function o(t){var e=t.scrollTop,o=t.scrollLeft;(e||o)&&(!s||a||w||mt(function(){(a||w)&&S(a-O,w-L,0)}),a+=o,w+=e,t.scrollTop=0,t.scrollLeft=0)}function k(t){o(t.currentTarget)}function U(t){var e,o,n,l,r,i,s,a,c;q.is(":visible")&&(!t||(r=Q(M.content,q)[0])&&(r!==u[0]&&(f&&f(),u[0]&&(u[0].scrollableOffsetX=O,u[0].scrollableOffsetY=L),st.splice.call(u,0,1,r),"static"===u.css("position")&&u.css("position","relative"),"auto"===u.css("z-index")&&u.css("z-index",0),O=r.scrollableOffsetX||0,L=r.scrollableOffsetY||0,m=u.parentsUntil(q).not(m).on("scroll",k).end()),l=Q(h),h=Q(M.sticky,r).map(function(t,e){var o,n=Q(e).data();return n.stickyNote||(n.stickyNote=((e=Q((o=e).cloneNode(!1)).append(Q(M.stickyHandle,o).clone()).addClass(M.stickyClass).data(xt,o)).click(function(){T(o,"left top",200)}),e[0]))}),l.not(h).remove(),h.appendTo(q),g=M.pageItem?Q(M.pageItem,r):Q()),e=R,o=X,n=getComputedStyle(q[0]),t=i=0,u.is(":visible")&&(l=u.parentsUntil(q).filter(function(t,e){return"visible"!==Q(e).css("overflow")}),c=kt(q[0]),s=kt(u[0]),W=s.left-c.left-O-parseFloat(n[nt[3]])-parseFloat(n[lt[3]]),$=s.top-c.top-L-parseFloat(n[nt[0]])-parseFloat(n[lt[0]]),l[0]&&(r=kt(l[0]),i=c.right-r.right+parseFloat(l.css(nt[1])),t=c.bottom-r.bottom+parseFloat(l.css(nt[2]))),i+=Math.min(0,parseFloat(u.css(ot[1])))-parseFloat(n[lt[1]]),t+=Math.min(0,parseFloat(u.css(ot[2])))-parseFloat(n[lt[2]])),y=Q.extend({},et,M.getContentDimension(u)),K=Q.extend({},et,M.getWrapperDimension(q)),R=M.hScroll?at.min(0,it(K.width-y.width-W-i)):0,X=M.vScroll?at.min(0,it(K.height-y.height-$-t)):0,d={x:100*(1+R/y.width)||0,y:100*(1+X/y.height)||0},p="x"===M.pageDirection||"y"===M.pageDirection?M.pageDirection:R&&X&&g[1]?(c=kt(g[0]),(a=((s=kt(g[1])).left+s.right)/2)>c.right||a<c.left?"x":"y"):X?"y":"x",Z&&Z!==q||O<R||L<X?(f&&f(),c=H(s=O,a=L),j("scrollStart",s,a),G(c.x,c.y),v=O,b=L,j("scrollMove",s,a),j("scrollEnd",s,a)):(G(O,L),e===R&&o===X||j("scrollProgressChange",O,L)))}function t(t){var e=t.originalEvent.touches,p=e&&(e[0].touchType||!0),o=M.handle,n=p?"touchmove":"mousemove",l=p?"touchend":"mouseup",r=p?"touchcancel":"mouseup";if(clearTimeout(_),!(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||t.isDefaultPrevented()))if(!p&&1!==t.which||p&&1!==e.length||Q(t.target).is(M.cancel)||Q(M.cancel,q).has(t.target).length)2===t.which&&t.preventDefault();else if(!Q(t.target).is(":text")){U();var h,g,i=St(t),s=+new Date,m=O,v=L,b=0,w=0,y=i.x,x=i.y,C=y,S=x,a=t.target,c={},T=!1,k=!1,D=1;if(p&&1===e.length)P=i;else if(!p&&P&&i.x===P.x&&i.y===x)return;if("scrollbar"===(o="auto"===o?p?"content":"scrollbar":o)||"both"===o){var u=A&&R<0&&Dt(A,5,i,!1);switch(u){case 1:case-1:return t.preventDefault(),void V(u,0,100);case 2:g=!(h=!0),D=-100/d.x*(1-W/K.width);break;default:switch(u=z&&X<0&&Dt(z,5,i,!0)){case 1:case-1:return t.preventDefault(),void V(0,u,100);case 2:g=h=!0,D=-100/d.y*(1-$/K.height)}}}(p||"scrollbar"!==o||h)&&(p||t.preventDefault(),h&&(Z=Z||q),Y&&Y(),c[n]=function(t){if(P=null,!(Z&&Z!==q||k)){var e=St(t),o=e.x-y,n=e.y-x,l=o,r=n,i=m+(e.x-C)*D,s=v+(e.y-S)*D,a=at.abs(e.x-C),c=at.abs(e.y-S),u=a/c<1,d=M.hBounce&&!h,f=M.vBounce&&!h;if(!(!o&&!n||!T&&"stylus"===p&&a<10&&c<10)){if(t.preventDefault(),y=e.x,x=e.y,void 0===g)if(h)g=u;else{if(!p&&a<6&&c<6||!M.vScroll&&u||!M.hScroll&&!u)return;e=Et(t.target,q[0]);if(e&&e.x&&e.y)return void E(t);if((u&&!X||!u&&!R)&&(q.parents().filter(function(t,e){return 0<=Q.inArray(e,wt)})[0]||Et(q[0],document.body)))return void E(t);g=0,e?g=!e.y:M.lockDirection&&(g=!(c+6<=a)&&(a+6<=c||g))}if(Z=Z||q,T||(T=!0,p||bt.appendTo(q),j("scrollStart",m,v)),M.vScroll&&(0===g||g)||(s=L,n=0,M.vScroll&&(r=0)),(!M.hScroll||0!==g&&g)&&(i=O,o=0,M.hScroll&&(l=0)),0<i||i<R?(i=d?O+o/2:0<i?0:R,d||(b=at.max(0,100-at.abs(b))*((b||o)/at.abs(b||o))/2+b)):i!==O&&(d||(b/=4)),0<s||s<X?(s=f?L+n/2:0<s?0:X,f||(w=at.max(0,100-at.abs(w))*((w||n)/at.abs(w||n))/2+w)):s!==L&&(f||(w/=4)),M.pageItem&&M.snapToPage){var f=H(i,s,!0),i=f.x,s=f.y;if(f.pageChanged)return N(i,s,M.bounceDuration,F,m,v),void(k=!0)}j("touchMove",m,v,i,s,l,r),i===O&&s===L||(j("scrollMove",m,v,i,s,o,n),G(i,s)),i=b,s=w,B&&(0<i?B.css({width:J(i)}).fadeIn().parent().css({left:0,right:"auto"}):i<0?B.css({width:J(-i)}).fadeIn().parent().css({left:"auto",right:0}):B.css({width:0}).fadeOut(),B.parent().toggleClass(M.glowClass+"-x-l",0<i),B.parent().toggleClass(M.glowClass+"-x-r",i<0)),I&&(0<s?I.css({height:J(s)}).fadeIn().parent().css({top:0,bottom:"auto"}):s<0?I.css({height:J(-s)}).fadeIn().parent().css({top:"auto",bottom:0}):I.css({height:0}).fadeOut(),I.parent().toggleClass(M.glowClass+"-y-u",0<s),I.parent().toggleClass(M.glowClass+"-y-d",s<0))}}},c[l]=E,c[r]=E,Q(document).on(c),f=function(){f=null,Y&&Y(),E({})},a.setCapture&&a.setCapture(),q.addClass(M.scrollingClass))}function F(){T&&j("scrollEnd",m,v),q.removeClass(M.scrollingClass)}function E(t){var e,o,n,l;Z===q&&(Z=null),Q(document).off(c),a.releaseCapture&&a.releaseCapture(),T?(p||(t.target===a&&window.addEventListener&&window.addEventListener("click",function t(e){e.stopImmediatePropagation(),e.preventDefault(),window.removeEventListener("click",t,!0)},!0),bt.detach()),j("scrollStop",m,v),B&&B.fadeOut(),I&&I.fadeOut(),k?F():(n=+new Date-s,o=e=tt,M.momentum&&n<300&&!h&&(e=Ft(O-m,n,m<O?-O:O-R,M.bounce&&K.width),o=Ft(L-v,n,v<L?-L:L-X,M.bounce&&K.height)),l=O+e.dist,t=L+o.dist,M.pageItem&&M.snapToPage&&(l=(n=H(l,t,!0)).x,t=n.y),N(l,t,at.max(e.time,o.time),function(){var t,e;t=F,N((e=H(O,L)).x,e.y,M.bounceDuration,t,m,v)},m,v))):F()}}Q.inArray(wt,this)<0&&wt.splice(0,0,this);var e={focusin:function(){o(q[0]),m.each(function(t,e){o(e)})}};e.scroll=k,e.touchstart=t,e.mousedown=t,e[gt]=function(t){var e=t.originalEvent,o=0,n=0,l=M.hScroll&&R,r=M.vScroll&&X;if(!(!M.wheel||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||t.isDefaultPrevented()||!l&&!r)&&(void 0!==e.deltaX?(o=-e.deltaX,n=-e.deltaY):void 0!==e.wheelDeltaX?(o=e.wheelDeltaX,n=e.wheelDeltaY):void 0!==e.wheelDelta?n=e.wheelDelta:void 0!==e.detail&&(n=-e.detail),i=!(ft=ft||0!==o)||at.abs(n)>at.abs(o),(o||n)&&(!Z||Z===q||!q.find(Z)[0]&&!Z.find(q)[0]))){e=Et(t.target,q[0]);if(!(e&&(i?e.y:e.x))){if(ft){if(!l&&!i||!r&&i)return}else r||o||(o=n);o*=M.hScroll,n*=M.vScroll,U();var i,e=t.timeStamp,s=O,a=L;!c||100<e-c.timestamp?(c={startX:s,startY:a},f||j("scrollStart",s,a),f=function(){clearTimeout(c.timeout),c.cancelled=!0,f=null,Y&&Y(),j("scrollStop",s,a),j("scrollEnd",s,a)}):(s=c.startX,a=c.startY),c.timestamp=e,c.cancelled||(i=(l=H(O+o,L+n,!0)).x,r=l.y,i!==O||r!==L?(e=function(){q.removeClass(M.scrollingClass),j("scrollStop",s,a),j("scrollEnd",s,a),f=c=null},(Z=q).addClass(M.scrollingClass),l.pageChanged?N(i,r,M.bounceDuration,e,s,a):(clearTimeout(c.timeout),c.timeout=setTimeout(e,200),j("scrollMove",s,a,i,r,o,n),G(i,r),v=i,b=r)):Z!==q&&"auto"!==q.css("overscroll-behavior")&&(Z=q),Z===q&&(t.stopPropagation(),t.preventDefault(),clearTimeout(_),_=setTimeout(function(){Z=null},250)))}}},e.transitionend=function(){U()},e.animationend=function(){U()},e.keydown=function(t){var e=t.keyCode;if(!(t.isDefaultPrevented()||Q(document.activeElement).is("select,button,input,textarea")&&33!==e&&34!==e))switch(e){case 32:case 33:case 34:S(-O,K.height*(33===e?-.8:.8)-L,50),t.preventDefault();break;case 37:case 38:case 39:case 40:S((37===e?-50:39===e?50:0)-O,(38===e?-50:40===e?50:0)-L,50),t.preventDefault()}},q.on(e),A&&"content"===M.handle&&A.css("pointer-events","none"),z&&"content"===M.handle&&z.css("pointer-events","none"),"hidden"!==q.css("overflow")&&"visible"!==q.css("overflow")&&q.css("overflow","hidden"),ut&&q.css("touch-action","none"),window.MutationObserver?(n=new MutationObserver(function(){!l&&s&&U(!0)})).observe(q[0],{subtree:!0,childList:!0,attributes:!0,characterData:!0}):n={takeRecords:function(){}},q.data(yt,{destroy:function(){G(0,0),wt.splice(Q.inArray(q[0],wt),1),q.off(e),m.off("scroll",k),A&&A.remove(),z&&z.remove(),U=function(){},s=!(M={}),q.data(yt,null),q.splice(0,1),u.splice(0,1),n.disconnect&&n.disconnect()},enable:function(){s||(q.on(e),s=!0,U())},disable:function(){s&&(q.off(e),A&&A.hide(),z&&z.hide(),s=!1)},setOptions:function(t){Q.extend(M,t),U(!0)},refresh:function(){U(!0)},scrollPadding:C,stop:function(){f&&f(),v=O,b=L},scrollLeft:function(){return-v},scrollTop:function(){return-b},scrollBy:function(t,e,o,n){return S((t||0)-O,(e||0)-L,o,n)},scrollTo:function(t,e,o,n){return S(t,e,o,n)},scrollByPage:V,scrollToPage:function(t,e,o,n){return S(t*K.width||0,e*K.height,o,n)},scrollToElement:T}),U(!0)})},Q.scrollable=function(t,e){return"object"==typeof e&&Q(t).scrollable(e),Q.data(t,yt)},Q(window).on("orientationchange resize",function(){clearTimeout(t),t=setTimeout(function(){wt.scrollable("refresh")},n?200:0)}),Q(window).on(gt,function t(e){0!==e.originalEvent.deltaX&&(ft=!0,Q(window).off(gt,t))}),Q(window).on("keydown",function(t){if(!t.isDefaultPrevented())switch(t.keyCode){case 32:case 33:case 34:case 37:case 38:case 39:case 40:wt.length&&Q(Q.uniqueSort(wt)).filter(":visible").eq(0).triggerHandler(t)}}),Q(window).on("hashchange",function(){location.hash.slice(1)&&Q(location.hash).parents().each(function(t,e){0<=Q.inArray(e,wt)&&(e.scrollTop=0)})});try{window.top!==window.self&&Q(window.top).on("mouseenter",function(){Q(document).trigger("mouseup")})}catch(t){}});