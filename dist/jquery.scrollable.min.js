!function(t){"function"==typeof define&&define.amd?define("jquery-scrollable",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(U){"use strict";function J(t){return(t||0).toFixed(5)+"%"}function k(t){return(t||0)+"px"}function s(t,e){return void 0===t?e:t}var Z,_,t,tt={dist:0,time:0},T={width:0,height:0},e={percentX:0,percentY:0,offsetX:0,offsetY:0},o={center:.5,right:1,bottom:1},D=function(t){return t>>0},F=Array.prototype,et=Math,E=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":window.opera?"O":"",n=/android/gi.test(navigator.appVersion),i=/hp-tablet/gi.test(navigator.appVersion),l=document.documentElement,ot=void 0!==window.ontouchstart&&!i,nt=void 0!==l.style[E+"Transform"],i=window.WebKitCSSMatrix&&void 0!==(new window.WebKitCSSMatrix).m11,it=!1,lt="translate"+(i?"3d(":"("),rt=i?",0)":")",c=window.CSS&&CSS.supports("color","var(--primary)")?function(t,e){return"var(--jqs-"+t+", "+e+")"}:function(t,e){return e},st="onwheel"in window?"wheel":"Moz"==E?"DOMMouseScroll":"mousewheel",at=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,0)},ct=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,ut=U('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);"></div>'),r=U('<div style="position:fixed;top:0;left:0;">')[0],dt=U(),ft="xScrollable",pt="xScrollableSticky";function ht(t){return/(left|center|right)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?(?:\s+(top|center|bottom)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?)?/g.test(t)?{percentX:(o[RegExp.$1]||0)+("%"===RegExp.$3&&+RegExp.$2),percentY:(o[RegExp.$4||!RegExp.$5&&RegExp.$1]||0)+("%"===RegExp.$6&&+RegExp.$5),offsetX:+("px"===RegExp.$3&&+RegExp.$2),offsetY:+("px"===RegExp.$6&&+RegExp.$5)}:e}function u(t,e,o){var n=U('<div style="position:absolute;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css(o.scrollbarTrackStyle),n.css("x"===e?"left":"top",o.scrollbarTrackStyle["x"===e?"right":"bottom"]),t.css(o.scrollbarStyle),o.scrollbarClass&&n.addClass(o.scrollbarClass+" "+o.scrollbarClass+"-"+e),t}function d(t,e,o){var n=U('<div style="position:absolute;pointer-events:none;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"height":"width","100%"),n.css(o.glowStyle),t.css("x"===e?"height":"width","100%"),o.glowClass&&n.addClass(o.glowClass+" "+o.glowClass+"-"+e),t}function gt(t){t=(t.originalEvent.touches||[t])[0];return{x:t.clientX,y:t.clientY}}function a(t,e,o,n){var i=this;i.left=t,i.top=e,i.right=o,i.bottom=n,i.width=i.right-i.left,i.height=i.bottom-i.top}function mt(t,e,o,n){function i(t){return D(1e3*t)/1e3}return void 0!==t.top?new a(i(t.left),i(t.top),i(t.right),i(t.bottom)):void 0===o?new a(t,e,t,e):new a(t,e,o,n)}function vt(t){var e;return t===l||t===window?(document.body.contains(r[0])||document.body.appendChild(r[0]),e=vt(r[0]),mt(0,0,l.offsetWidth,l.offsetHeight).translate(e.left,e.top)):l.contains(t)?mt(t.getBoundingClientRect()):mt(0,0,0,0)}function f(t){if(t[0]){if(window.getComputedStyle){var e=window.getComputedStyle(t[0]),o=vt(t[0]);return{width:o.right-o.left-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),height:o.bottom-o.top-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth))}}return{width:t.width(),height:t.height()}}}function p(t){if(t[0]){t=vt(t[0]);return{width:t.width,height:t.height}}}function bt(t,e,o,n){var i=vt(t[0]),l=o.x+e>=i.left&&o.x-e<=i.right,e=o.y+e>=i.top&&o.y-e<=i.bottom;if(l&&e)return 2;t=vt(t.parent()[0]);if(n){if(l&&o.y>=t.top&&o.y<=t.bottom)return o.y>i.bottom?1:-1}else if(e&&o.x>=t.left&&o.x<=t.right)return o.x>i.right?1:-1}function wt(t,e,o,n){var i=et.abs(t)/e,e=i*i/.0012;return o<e&&(i=i*(o+=n/(6/(e/i*6e-4)))/e,e=o),e<=0?tt:{dist:e*(t<0?-1:1),time:et.max(10,D(i/6e-4))}}function yt(t,e){for(;t!==e;t=t.parentNode)var o=getComputedStyle(t),n=n||t.scrollHeight>t.offsetHeight&&("auto"===o.overflowY||"scroll"===o.overflowY),i=i||t.scrollWidth>t.offsetWidth&&("auto"===o.overflowX||"scroll"===o.overflowX);return(i||n)&&{x:i,y:n}}U.fn.scrollable=function(o){if("string"==typeof o){var n,i=arguments;return this.each(function(){var t,e=U.data(this,ft);if(e)t=e[o].apply(null,[].slice.call(i,1));else switch(console.warn("Scrollable "+o+" should not be called before initialization"),o){case"scrollLeft":case"scrollTop":t=0;break;case"scrollPadding":t={top:0,left:0,right:0,bottom:0};break;case"scrollBy":case"scrollTo":case"scrollByPage":case"scrollToPage":case"scrollToElement":t=Promise.resolve()}if(void 0!==t)return n=t,!1}),void 0!==n?n:this}var l={content:">:visible:eq(0)",cancel:"",getWrapperDimension:f,getContentDimension:p,handle:"auto",wheel:!0,hScroll:!0,vScroll:!0,hGlow:!1,vGlow:!1,bounce:!0,hBounce:!0,vBounce:!0,bounceDuration:200,momentum:!0,lockDirection:!0,scrollingClass:"scrolling",scrollableXClass:"scrollable-x",scrollableYClass:"scrollable-y",scrollbar:u,scrollbarClass:"",scrollbarInset:3,scrollbarSize:5,scrollbarStyle:{},scrollbarTrackStyle:{},glow:d,glowClass:"",glowStyle:{},pageItem:"",pageItemAlign:"center",pageDirection:"auto",snapToPage:!1,sticky:"",stickyHandle:"",stickyToBottom:!1,stickyClass:"sticky",touchMove:null,scrollStart:null,scrollMove:null,scrollStop:null,scrollEnd:null,scrollProgressChange:null};U.extend(l,o);var a=void 0!==o.scrollbarInset?k(o.scrollbarInset):c("scrollbar-inset","3px"),t=void 0!==o.scrollbarSize?k(o.scrollbarSize):c("scrollbar-size","5px"),S="calc("+t+" + "+a+" * 2)",e=l.scrollbarStyle,r=l.scrollbarTrackStyle;return U.extend(r,{bottom:a,right:a}),U.extend(e,{backgroundColor:s(e.backgroundColor,c("scrollbar-color","black")),borderRadius:s(e.borderRadius,c("scrollbar-radius",0)),opacity:s(e.opacity,c("scrollbar-opacity",.7)),bottom:0,right:0,minWidth:t,minHeight:t}),l.hBounce=l.bounce&&l.hBounce,l.vBounce=l.bounce&&l.vBounce,this.each(function(){var n,i,X,R,p,d,P,f,Y,c,q=U.extend(!0,{},l),A=U(this),u=U(),h=U(),g=U(),z=q.scrollbar&&q.hScroll&&U(q.scrollbar(A,"x",q)),I=q.scrollbar&&q.vScroll&&U(q.scrollbar(A,"y",q)),M=q.glow&&q.hGlow&&U(q.glow(A,"x",q)).hide(),B=q.glow&&q.vGlow&&U(q.glow(A,"y",q)).hide(),s=!0,O=0,W=0,$=0,L=0,m=0,v=0,b=T,j=T;function w(t){var o="x"===p?["left","right","width"]:["top","bottom","height"],n=g.length,i=vt(A[0]);i[o[0]]-=t||0,i[o[1]]-=t||0;function l(t,e){return e[o[0]]*((n-t)/n)+e[o[1]]*(t/n)}var r,s=(i[o[0]]+i[o[1]])/2,a=1/0;return g.each(function(t,e){e=vt(e);(0|e[o[2]])>(0|i[o[2]])&&(e[o[0]]<s&&e[o[1]]>i[o[1]]||e[o[0]]<0&&e[o[1]]>s)&&(a=0,r=t);e=et.abs(l(t,e)-l(t,i));e<a&&(a=e,r=t)}),r}function y(){function t(t){return"auto"!==e[t]&&e[t]?parseFloat(e[t]):void 0}var e=getComputedStyle(A[0]),o=t("scrollPaddingTop"),n=t("scrollPaddingLeft"),i=t("scrollPaddingRight"),l=t("scrollPaddingBottom");return{top:void 0!==o?o:L,left:void 0!==n?n:$,right:void 0!==i?i:I?I.width()+2*parseFloat(I.parent().css("right")):0,bottom:void 0!==l?l:z?z.height()+2*parseFloat(z.parent().css("bottom")):0}}function H(t,e,o,n,i,l,r){var s,a,c;"function"==typeof q[t]&&(c=q.pageItem?w():-1,c={type:t,startX:-e,startY:-o,offsetX:-(s=void 0===n?O:n),offsetY:-(a=void 0===i?W:i),deltaX:-l||0,deltaY:-r||0,percentX:X?s/X*100:100,percentY:R?a/R*100:100,pageIndex:c,pageItem:g[c]||null},q[t].call(A[0],c)),"scrollMove"===t&&H("scrollProgressChange",e,o,n,i,l,r)}function K(t,e,o){function n(t,e){return{x:0<t?0:t<X?X:D(t),y:0<e?0:e<R?R:D(e)}}var i=n(t,e);if(q.pageItem&&q.snapToPage){var l=q.pageItemAlign,r=p,s="x"===r?["left","right","width"]:["top","bottom","height"],a={x:O,y:W};if(i[r]!==a[r]){var c=g.length,t=w(),e=w(i[r]-a[r]),u=vt(A[0]);o&&e===t&&(i[r]<a[r]?t<c-1:0<t)&&((f=vt(g[t]))[s[2]]<u[s[2]]||(i[r]<a[r]?D(f[s[1]])<=u[s[1]]:et.ceil(f[s[0]])>=u[s[0]]))&&(e+=i[r]<a[r]?1:-1);var d,f=vt(g[e]),c=s[2];switch(f[s[2]]>u[s[2]]?c=i[r]<a[r]^t===e?s[0]:s[1]:l!==s[0]&&l!==s[1]||(c=l),c){case s[0]:d=f[s[0]];break;case s[1]:d=f[s[1]]-u[s[2]];break;default:d=(f[s[0]]+f[s[1]]-u[s[2]])/2}d=D(a[r]+u[s[0]]-d),r=e===t?(i[r]=et[i[r]<a[r]?"max":"min"](d,i[r]),i[r]===d):(i[r]=d,!0),(i=n(i.x,i.y)).pageChanged=r}}return i}function G(t,e){var o;i=!0,O=D(t),W=D(e),nt?u.css(E+"Transform",(t=k(O),e=k(W),lt+t+","+e+rt)):u.css({left:k(O),top:k(W)}),z&&(o=-O/b.width*100,0<O?z.css({width:J(d.x+o),left:0,right:"auto"}):X<=O?z.css({width:J(d.x),left:J(o),right:"auto"}):z.css({width:J(100-o),left:"auto",right:0}),z.toggle(s&&X<0),z.parent().css("right",I&&R?S:a)),I&&(o=-W/b.height*100,0<W?I.css({height:J(d.y+o),top:0,bottom:"auto"}):R<=W?I.css({height:J(d.y),top:J(o),bottom:"auto"}):I.css({height:J(100-o),top:"auto",bottom:0}),I.toggle(s&&R<0),I.parent().css("bottom",z&&X?S:a)),A.toggleClass(q.scrollableXClass,X<0),A.toggleClass(q.scrollableYClass,R<0),A.toggleClass(q.scrollableXClass+"-l",O<0),A.toggleClass(q.scrollableXClass+"-r",X<O),A.toggleClass(q.scrollableYClass+"-u",W<0),A.toggleClass(q.scrollableYClass+"-d",R<W);var l=vt(A[0]),r=L+parseFloat(A.css("padding-top"));h.each(function(t,e){var o,n,i=U(e).data(pt);document.body.contains(i)&&document.body.contains(e)&&(o=vt(i),n=vt(e),U(e).css("font-size",U(i).css("font-size")),q.stickyToBottom&&o.top>l.bottom-n.height?U(e).css({position:"absolute",visibility:"visible",top:"auto",bottom:0}):o.top<l.top+r&&o.bottom>l.top+r?U(e).css({position:"absolute",visibility:"visible",top:r-Math.max(0,l.top+r+n.height-o.bottom),bottom:"auto"}):U(e).css({visibility:"hidden"}))}),n.takeRecords(),i=!1}function N(o,n,i,t,l,r){if(Y&&Y(),v=n,D(m=o)===O&&D(n)===W)return"function"==typeof t&&t(),Promise.resolve();var e=void 0===l;e&&(l=O,r=W);function s(){Y=null,ct(c),e&&H("scrollEnd",l,r,O,W),"function"==typeof t&&t(),u()}function a(){var t=+new Date-d;if(i<=t)return G(o,n),H("scrollMove",l,r,o,n,o-O,n-W),void s();var e=t/i-1,t=et.sqrt(1-e*e);G(e=(o-f)*t+f,t=(n-p)*t+p),H("scrollMove",l,r,e,t,e-O,t-W),c=at(a)}var c,u,d=+new Date,f=O,p=W,h=new Promise(function(t){u=t});return Y=s,e&&H("scrollStart",l,r),a(),h}function x(t,e,o,n,i){Q();i=K(-t||0,-e||0,i);return N(i.x,i.y,+o||0,n)}function V(t,e,o,n){return x((t*j.width||0)-O,(e*j.height||0)-W,o,n,!0)}function C(o,t,e,n,i){if(o=U(o,u)[0]){Q();var l=y(),r=ht(t),s=ht(e),a=vt(o),t=mt((t=vt(A[0])).left+l.left,t.top+l.top,t.right-l.right,t.bottom-l.bottom),l=a.left*(1-r.percentX)+a.right*r.percentX+r.offsetX-t.left-t.width*s.percentX-s.offsetX-O,c=a.top*(1-r.percentY)+a.bottom*r.percentY+r.offsetY-t.top-t.height*s.percentY-s.offsetY-W;return h.each(function(t,e){U.contains(U(e).data(pt),o)&&(c-=vt(e).height)}),x(et.round(l),et.round(c),n||e,i||n)}return Promise.resolve()}function Q(t){var e,o,n,i,l,r,s,a;A.is(":visible")&&(!t||(i=U(q.content,A)[0])&&(i!==u[0]&&(f&&f(),u[0]&&(u[0].scrollableOffsetX=O,u[0].scrollableOffsetY=W),F.splice.call(u,0,1,i),"static"===u.css("position")&&u.css("position","relative"),"auto"===u.css("z-index")&&u.css("z-index",0),O=i.scrollableOffsetX||0,W=i.scrollableOffsetY||0),n=U(h),h=U(q.sticky,i).map(function(t,e){var o,n=U(e).data();return n.stickyNote||(n.stickyNote=((e=U((o=e).cloneNode(!1)).append(U(q.stickyHandle,o).clone()).addClass(q.stickyClass).data(pt,o)).click(function(){C(o,"left top",200)}),e[0]))}),n.not(h).remove(),h.appendTo(A),g=q.pageItem?U(q.pageItem,i):U()),e=X,o=R,u[t=l=0]&&(n=u.parentsUntil(A).filter(function(t,e){return"visible"!==U(e).css("overflow")}),a=vt(A[0]),r=vt(u[0]),$=r.left-a.left-O,L=r.top-a.top-W,n[0]&&(i=vt(n[0]),l=a.right-i.right-parseFloat(A.css("padding-right"))+parseFloat(n.css("padding-right")),t=a.bottom-i.bottom-parseFloat(A.css("padding-bottom"))+parseFloat(n.css("padding-bottom")))),b=U.extend({},T,q.getContentDimension(u)),j=U.extend({},T,q.getWrapperDimension(A)),X=q.hScroll?et.min(0,D(j.width-b.width-$-l+parseFloat(A.css("padding-left"))+parseFloat(A.css("border-left-width")))):0,R=q.vScroll?et.min(0,D(j.height-b.height-L-t+parseFloat(A.css("padding-top"))+parseFloat(A.css("border-top-width")))):0,d={x:100*(1+X/b.width)||0,y:100*(1+R/b.height)||0},p="x"===q.pageDirection||"y"===q.pageDirection?q.pageDirection:X&&R&&g[1]?(a=vt(g[0]),(s=((r=vt(g[1])).left+r.right)/2)>a.right||s<a.left?"x":"y"):R?"y":"x",Z&&Z!==A||O<X||W<R?(f&&f(),a=K(r=O,s=W),H("scrollStart",r,s),G(a.x,a.y),m=O,v=W,H("scrollMove",r,s),H("scrollEnd",r,s)):(G(O,W),e===X&&o===R||H("scrollProgressChange",O,W)))}function t(t){var e=t.originalEvent.touches,p=e&&(e[0].touchType||!0),o=q.handle,n=p?"touchmove":"mousemove",i=p?"touchend":"mouseup",l=p?"touchcancel":"mouseup";if(clearTimeout(_),"auto"===o&&(o=p?"content":"scrollbar"),!p&&1!==t.which||p&&1!==e.length||U(t.target).is(q.cancel)||U(q.cancel,A).has(t.target).length)2===t.which&&t.preventDefault();else if(!U(t.target).is(":text")){Q();var h,g,r=gt(t),s=+new Date,m=O,v=W,b=0,w=0,y=r.x,x=r.y,C=y,S=x,a=t.target,c={},k=!1,T=!1,D=1;if(p&&1===e.length)P=r;else if(!p&&P&&r.x===P.x&&r.y===x)return;if("scrollbar"===o||"both"===o){var u=z&&X<0&&bt(z,5,r,!1);switch(u){case 1:case-1:return t.preventDefault(),void V(u,0,100);case 2:g=!(h=!0),D=-100/d.x*(1-$/j.width);break;default:switch(u=I&&R<0&&bt(I,5,r,!0)){case 1:case-1:return t.preventDefault(),void V(0,u,100);case 2:g=h=!0,D=-100/d.y*(1-L/j.height)}}}(p||"scrollbar"!==o||h)&&(p||t.preventDefault(),h&&(Z=Z||A),Y&&Y(),c[n]=function(t){if(P=null,!(Z&&Z!==A||T)){var e=gt(t),o=e.x-y,n=e.y-x,i=o,l=n,r=m+(e.x-C)*D,s=v+(e.y-S)*D,a=et.abs(e.x-C),c=et.abs(e.y-S),u=a/c<1,d=q.hBounce&&!h,f=q.vBounce&&!h;if(!(!o&&!n||!k&&"stylus"===p&&a<10&&c<10)){if(t.preventDefault(),y=e.x,x=e.y,void 0===g)if(h)g=u;else{if(!p&&a<6&&c<6||!q.vScroll&&u||!q.hScroll&&!u)return;e=yt(t.target,A[0]);if(e&&e.x&&e.y)return void E(t);if((u&&!R||!u&&!X)&&(A.parents().filter(function(t,e){return 0<=U.inArray(e,dt)})[0]||yt(A[0],document.body)))return void E(t);g=0,e?g=!e.y:q.lockDirection&&(g=!(c+6<=a)&&(a+6<=c||g))}if(Z=Z||A,k||(k=!0,p||ut.appendTo(A),H("scrollStart",m,v)),q.vScroll&&(0===g||g)||(s=W,n=0,q.vScroll&&(l=0)),(!q.hScroll||0!==g&&g)&&(r=O,o=0,q.hScroll&&(i=0)),0<r||r<X?(r=d?O+o/2:0<r?0:X,d||(b=et.max(0,100-et.abs(b))*((b||o)/et.abs(b||o))/2+b)):r!==O&&(d||(b/=4)),0<s||s<R?(s=f?W+n/2:0<s?0:R,f||(w=et.max(0,100-et.abs(w))*((w||n)/et.abs(w||n))/2+w)):s!==W&&(f||(w/=4)),q.pageItem&&q.snapToPage){var f=K(r,s,!0),r=f.x,s=f.y;if(f.pageChanged)return N(r,s,q.bounceDuration,F,m,v),void(T=!0)}H("touchMove",m,v,r,s,i,l),r===O&&s===W||(H("scrollMove",m,v,r,s,o,n),G(r,s)),r=b,s=w,M&&(0<r?M.css({width:J(r)}).fadeIn().parent().css({left:0,right:"auto"}):r<0?M.css({width:J(-r)}).fadeIn().parent().css({left:"auto",right:0}):M.css({width:0}).fadeOut(),M.parent().toggleClass(q.glowClass+"-x-l",0<r),M.parent().toggleClass(q.glowClass+"-x-r",r<0)),B&&(0<s?B.css({height:J(s)}).fadeIn().parent().css({top:0,bottom:"auto"}):s<0?B.css({height:J(-s)}).fadeIn().parent().css({top:"auto",bottom:0}):B.css({height:0}).fadeOut(),B.parent().toggleClass(q.glowClass+"-y-u",0<s),B.parent().toggleClass(q.glowClass+"-y-d",s<0))}}},c[i]=E,c[l]=E,U(document).on(c),f=function(){f=null,Y&&Y(),E({})},a.setCapture&&a.setCapture(),A.addClass(q.scrollingClass))}function F(){k&&H("scrollEnd",m,v),A.removeClass(q.scrollingClass)}function E(t){var e,o,n,i;Z===A&&(Z=null),U(document).off(c),a.releaseCapture&&a.releaseCapture(),k?(p||(t.target===a&&window.addEventListener&&window.addEventListener("click",function t(e){e.stopImmediatePropagation(),e.preventDefault(),window.removeEventListener("click",t,!0)},!0),ut.detach()),H("scrollStop",m,v),M&&M.fadeOut(),B&&B.fadeOut(),T?F():(n=+new Date-s,o=e=tt,q.momentum&&n<300&&!h&&(e=wt(O-m,n,m<O?-O:O-X,q.bounce&&j.width),o=wt(W-v,n,v<W?-W:W-R,q.bounce&&j.height)),i=O+e.dist,t=W+o.dist,q.pageItem&&q.snapToPage&&(i=(n=K(i,t,!0)).x,t=n.y),N(i,t,et.max(e.time,o.time),function(){var t,e;t=F,N((e=K(O,W)).x,e.y,q.bounceDuration,t,m,v)},m,v))):F()}}U.inArray(dt,this)<0&&dt.splice(0,0,this);var e={};e.touchstart=t,e.mousedown=t,e[st]=function(t){var e=t.originalEvent,o=0,n=0,i=q.hScroll&&X,l=q.vScroll&&R;if(!(!q.wheel||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||t.isDefaultPrevented())&&(void 0!==e.deltaX?(o=-e.deltaX,n=-e.deltaY):void 0!==e.wheelDeltaX?(o=e.wheelDeltaX,n=e.wheelDeltaY):void 0!==e.wheelDelta?n=e.wheelDelta:void 0!==e.detail&&(n=-e.detail),r=!(it=it||0!==o)||et.abs(n)>et.abs(o),(o||n)&&(!Z||Z===A||!A.find(Z)[0]&&!Z.find(A)[0]))){e=yt(t.target,A[0]);if(!(e&&(r?e.y:e.x))){if(it){if(!i&&!r||!l&&r)return}else l||o||(o=n);o*=q.hScroll,n*=q.vScroll,Q();var r,e=t.timeStamp,s=O,a=W;!c||100<e-c.timestamp?(c={startX:s,startY:a},f||H("scrollStart",s,a),f=function(){clearTimeout(c.timeout),c.cancelled=!0,f=null,Y&&Y(),H("scrollStop",s,a),H("scrollEnd",s,a)}):(s=c.startX,a=c.startY),c.timestamp=e,c.cancelled||(r=(i=K(O+o,W+n,!0)).x,l=i.y,r!==O||l!==W?(e=function(){A.removeClass(q.scrollingClass),H("scrollStop",s,a),H("scrollEnd",s,a),f=c=null},(Z=A).addClass(q.scrollingClass),i.pageChanged?N(r,l,q.bounceDuration,e,s,a):(clearTimeout(c.timeout),c.timeout=setTimeout(e,200),H("scrollMove",s,a,r,l,o,n),G(r,l),m=r,v=l)):Z!==A&&"auto"!==A.css("overscroll-behavior")&&(Z=A),Z===A&&(t.stopPropagation(),t.preventDefault(),clearTimeout(_),_=setTimeout(function(){Z=null},250)))}}},e.transitionend=function(){Q()},e.animationend=function(){Q()},e.focusin=function(t){var e=A[0].scrollTop,o=A[0].scrollLeft,n=m,i=v;(e||o)&&(A[0].scrollTop=0,A[0].scrollLeft=0,at(function(){Y||m!==n||v!==i||x(o-O,e-W,0)}))},e.keydown=function(t){var e=t.keyCode;if(!(t.isDefaultPrevented()||U(document.activeElement).is("select,button,input,textarea")&&33!==e&&34!==e))switch(e){case 32:case 33:case 34:x(-O,j.height*(33===e?-.8:.8)-W,50),t.preventDefault();break;case 37:case 38:case 39:case 40:x((37===e?-50:39===e?50:0)-O,(38===e?-50:40===e?50:0)-W,50),t.preventDefault()}},A.on(e),z&&"content"===q.handle&&z.css("pointer-events","none"),I&&"content"===q.handle&&I.css("pointer-events","none"),"hidden"!==A.css("overflow")&&"visible"!==A.css("overflow")&&A.css("overflow","hidden"),ot&&A.css("touch-action","none"),window.MutationObserver?(n=new MutationObserver(function(){!i&&s&&Q(!0)})).observe(A[0],{subtree:!0,childList:!0,attributes:!0,characterData:!0}):n={takeRecords:function(){}},A.data(ft,{destroy:function(){G(0,0),dt.splice(U.inArray(A[0],dt),1),A.off(e),z&&z.remove(),I&&I.remove(),Q=function(){},s=!(q={}),A.data(ft,null),A.splice(0,1),u.splice(0,1),n.disconnect&&n.disconnect()},enable:function(){s||(A.on(e),s=!0,Q())},disable:function(){s&&(A.off(e),z&&z.hide(),I&&I.hide(),s=!1)},setOptions:function(t){U.extend(q,t),Q(!0)},refresh:function(){Q(!0)},scrollPadding:y,stop:function(){f&&f(),m=O,v=W},scrollLeft:function(){return-m},scrollTop:function(){return-v},scrollBy:function(t,e,o,n){return x((t||0)-O,(e||0)-W,o,n)},scrollTo:function(t,e,o,n){return x(t,e,o,n)},scrollByPage:V,scrollToPage:function(t,e,o,n){return x(t*j.width||0,e*j.height,o,n)},scrollToElement:C}),Q(!0)})},U.scrollable=function(t,e){return"object"==typeof e&&U(t).scrollable(e),U.data(t,ft)},U(window).on("orientationchange resize",function(){clearTimeout(t),t=setTimeout(function(){dt.scrollable("refresh")},n?200:0)}),U(window).on(st,function t(e){0!==e.originalEvent.deltaX&&(it=!0,U(window).off(st,t))}),U(window).on("keydown",function(t){if(!t.isDefaultPrevented())switch(t.keyCode){case 32:case 33:case 34:case 37:case 38:case 39:case 40:dt.length&&U(U.uniqueSort(dt)).filter(":visible").eq(0).triggerHandler(t)}}),U(window).on("hashchange",function(){location.hash.slice(1)&&U(location.hash).parents().each(function(t,e){0<=U.inArray(e,dt)&&(e.scrollTop=0)})});try{window.top!==window.self&&U(window.top).on("mouseenter",function(){U(document).trigger("mouseup")})}catch(t){}});