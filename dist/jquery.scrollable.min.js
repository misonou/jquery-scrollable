!function(t){"function"==typeof define&&define.amd?define("jquery-scrollable",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(U){"use strict";function J(t){return(t||0).toFixed(5)+"%"}function a(t){return(t||0)+"px"}var Z,_,t,tt={dist:0,time:0},C={width:0,height:0},e={percentX:0,percentY:0,offsetX:0,offsetY:0},o={center:.5,right:1,bottom:1},S=function(t){return t>>0},k=Array.prototype,et=Math,T=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":window.opera?"O":"",n=/android/gi.test(navigator.appVersion),l=/hp-tablet/gi.test(navigator.appVersion),i=document.documentElement,r=void 0!==window.ontouchstart&&!l,D=void 0!==i.style[T+"Transform"],l=window.WebKitCSSMatrix&&void 0!==(new window.WebKitCSSMatrix).m11,E=!1,F="translate"+(l?"3d(":"("),ot=l?",0)":")",nt="onwheel"in window?"wheel":"Moz"==T?"DOMMouseScroll":"mousewheel",lt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,0)},it=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,rt=U('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);"></div>'),s=U('<div style="position:fixed;top:0;left:0;">')[0],st=U(),at="xScrollable",ct="xScrollableSticky";function ut(t){return/(left|center|right)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?(?:\s+(top|center|bottom)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?)?/g.test(t)?{percentX:(o[RegExp.$1]||0)+("%"===RegExp.$3&&+RegExp.$2),percentY:(o[RegExp.$4||!RegExp.$5&&RegExp.$1]||0)+("%"===RegExp.$6&&+RegExp.$5),offsetX:+("px"===RegExp.$3&&+RegExp.$2),offsetY:+("px"===RegExp.$6&&+RegExp.$5)}:e}function c(t,e,o){var n=U('<div style="position:absolute;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"left":"top",a(o.scrollbarInset)),n.css(o.scrollbarTrackStyle),t.css(o.scrollbarStyle),o.scrollbarClass&&n.addClass(o.scrollbarClass+" "+o.scrollbarClass+"-"+e),t}function u(t,e,o){var n=U('<div style="position:absolute;pointer-events:none;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"height":"width","100%"),n.css(o.glowStyle),t.css("x"===e?"height":"width","100%"),o.glowClass&&n.addClass(o.glowClass+" "+o.glowClass+"-"+e),t}function dt(t){t=(t.originalEvent.touches||[t])[0];return{x:t.clientX,y:t.clientY}}function d(t,e,o,n){var l=this;l.left=t,l.top=e,l.right=o,l.bottom=n,l.width=l.right-l.left,l.height=l.bottom-l.top}function f(t,e,o,n){function l(t){return S(1e3*t)/1e3}return void 0!==t.top?new d(l(t.left),l(t.top),l(t.right),l(t.bottom)):void 0===o?new d(t,e,t,e):new d(t,e,o,n)}function ft(t){var e;return t===i||t===window?(document.body.contains(s[0])||document.body.appendChild(s[0]),e=ft(s[0]),f(0,0,i.offsetWidth,i.offsetHeight).translate(e.left,e.top)):i.contains(t)?f(t.getBoundingClientRect()):f(0,0,0,0)}function h(t){if(t[0]){if(window.getComputedStyle){var e=window.getComputedStyle(t[0]),o=ft(t[0]);return{width:o.right-o.left-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),height:o.bottom-o.top-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth))}}return{width:t.width(),height:t.height()}}}function p(t){if(t[0]){t=ft(t[0]);return{width:t.width,height:t.height}}}function ht(t,e,o,n){var l=ft(t[0]),i=o.x+e>=l.left&&o.x-e<=l.right,e=o.y+e>=l.top&&o.y-e<=l.bottom;if(i&&e)return 2;t=ft(t.parent()[0]);if(n){if(i&&o.y>=t.top&&o.y<=t.bottom)return o.y>l.bottom?1:-1}else if(e&&o.x>=t.left&&o.x<=t.right)return o.x>l.right?1:-1}function pt(t,e,o,n){var l=et.abs(t)/e,e=l*l/.0012;return o<e&&(l=l*(o+=n/(6/(e/l*6e-4)))/e,e=o),e<=0?tt:{dist:e*(t<0?-1:1),time:et.max(10,S(l/6e-4))}}function gt(t,e){for(;t!==e;t=t.parentNode)var o=getComputedStyle(t),n=n||t.scrollHeight>t.offsetHeight&&("auto"===o.overflowY||"scroll"===o.overflowY),l=l||t.scrollWidth>t.offsetWidth&&("auto"===o.overflowX||"scroll"===o.overflowX);return(l||n)&&{x:l,y:n}}U.fn.scrollable=function(o){if("string"==typeof o){var n,l=arguments;return this.each(function(){var t,e=U.data(this,at);if(e)t=e[o].apply(null,[].slice.call(l,1));else switch(console.warn("Scrollable "+o+" should not be called before initialization"),o){case"scrollLeft":case"scrollTop":t=0;break;case"scrollPadding":t={top:0,left:0,right:0,bottom:0};break;case"scrollBy":case"scrollTo":case"scrollByPage":case"scrollToPage":case"scrollToElement":t=Promise.resolve()}if(void 0!==t)return n=t,!1}),void 0!==n?n:this}var i={content:">:visible:eq(0)",cancel:"",getWrapperDimension:h,getContentDimension:p,handle:"auto",wheel:!0,hScroll:!0,vScroll:!0,hGlow:!1,vGlow:!1,bounce:!0,hBounce:!0,vBounce:!0,bounceDuration:200,momentum:!0,lockDirection:!0,scrollingClass:"scrolling",scrollableXClass:"scrollable-x",scrollableYClass:"scrollable-y",scrollbar:c,scrollbarClass:"",scrollbarInset:3,scrollbarSize:5,scrollbarStyle:{backgroundColor:"black",opacity:.7},scrollbarTrackStyle:{},glow:u,glowClass:"",glowStyle:{},pageItem:"",pageItemAlign:"center",pageDirection:"auto",snapToPage:!1,sticky:"",stickyHandle:"",stickyToBottom:!1,stickyClass:"sticky",touchMove:null,scrollStart:null,scrollMove:null,scrollStop:null,scrollEnd:null,scrollProgressChange:null};return U.extend(i,o),U.extend(i.scrollbarTrackStyle,{bottom:a(i.scrollbarInset),right:a(i.scrollbarInset)}),U.extend(i.scrollbarStyle,{bottom:0,right:0,minWidth:a(i.scrollbarSize),minHeight:a(i.scrollbarSize)}),i.hBounce=i.bounce&&i.hBounce,i.vBounce=i.bounce&&i.vBounce,this.each(function(){var n,l,X,Y,h,d,R,f,I,c,P=U.extend(!0,{},i),z=U(this),u=U(),p=U(),g=U(),A=P.scrollbar&&P.hScroll&&U(P.scrollbar(z,"x",P)),q=P.scrollbar&&P.vScroll&&U(P.scrollbar(z,"y",P)),M=P.glow&&P.hGlow&&U(P.glow(z,"x",P)).hide(),B=P.glow&&P.vGlow&&U(P.glow(z,"y",P)).hide(),s=!0,O=0,W=0,$=0,L=0,m=0,b=0,v=C,H=C;function w(t){var o="x"===h?["left","right","width"]:["top","bottom","height"],n=g.length,l=ft(z[0]);l[o[0]]-=t||0,l[o[1]]-=t||0;function i(t,e){return e[o[0]]*((n-t)/n)+e[o[1]]*(t/n)}var r,s=(l[o[0]]+l[o[1]])/2,a=1/0;return g.each(function(t,e){e=ft(e);(0|e[o[2]])>(0|l[o[2]])&&(e[o[0]]<s&&e[o[1]]>l[o[1]]||e[o[0]]<0&&e[o[1]]>s)&&(a=0,r=t);e=et.abs(i(t,e)-i(t,l));e<a&&(a=e,r=t)}),r}function j(t,e,o,n,l,i,r){var s,a,c;"function"==typeof P[t]&&(c=P.pageItem?w():-1,c={type:t,startX:-e,startY:-o,offsetX:-(s=void 0===n?O:n),offsetY:-(a=void 0===l?W:l),deltaX:-i||0,deltaY:-r||0,percentX:X?s/X*100:100,percentY:Y?a/Y*100:100,pageIndex:c,pageItem:g[c]||null},P[t].call(z[0],c)),"scrollMove"===t&&j("scrollProgressChange",e,o,n,l,i,r)}function K(t,e,o){function n(t,e){return{x:0<t?0:t<X?X:S(t),y:0<e?0:e<Y?Y:S(e)}}var l=n(t,e);if(P.pageItem&&P.snapToPage){var i=P.pageItemAlign,r=h,s="x"===r?["left","right","width"]:["top","bottom","height"],a={x:O,y:W};if(l[r]!==a[r]){var c=g.length,t=w(),e=w(l[r]-a[r]),u=ft(z[0]);o&&e===t&&(l[r]<a[r]?t<c-1:0<t)&&((f=ft(g[t]))[s[2]]<u[s[2]]||(l[r]<a[r]?S(f[s[1]])<=u[s[1]]:et.ceil(f[s[0]])>=u[s[0]]))&&(e+=l[r]<a[r]?1:-1);var d,f=ft(g[e]),c=s[2];switch(f[s[2]]>u[s[2]]?c=l[r]<a[r]^t===e?s[0]:s[1]:i!==s[0]&&i!==s[1]||(c=i),c){case s[0]:d=f[s[0]];break;case s[1]:d=f[s[1]]-u[s[2]];break;default:d=(f[s[0]]+f[s[1]]-u[s[2]])/2}d=S(a[r]+u[s[0]]-d),r=e===t?(l[r]=et[l[r]<a[r]?"max":"min"](d,l[r]),l[r]===d):(l[r]=d,!0),(l=n(l.x,l.y)).pageChanged=r}}return l}function G(t,e){var o;l=!0,O=S(t),W=S(e),D?u.css(T+"Transform",(t=a(O),e=a(W),F+t+","+e+ot)):u.css({left:a(O),top:a(W)}),A&&(o=-O/v.width*100,0<O?A.css({width:J(d.x+o),left:0,right:"auto"}):X<=O?A.css({width:J(d.x),left:J(o),right:"auto"}):A.css({width:J(100-o),left:"auto",right:0}),A.toggle(s&&X<0)),q&&(o=-W/v.height*100,0<W?q.css({height:J(d.y+o),top:0,bottom:"auto"}):Y<=W?q.css({height:J(d.y),top:J(o),bottom:"auto"}):q.css({height:J(100-o),top:"auto",bottom:0}),q.toggle(s&&Y<0)),z.toggleClass(P.scrollableXClass,X<0),z.toggleClass(P.scrollableYClass,Y<0),z.toggleClass(P.scrollableXClass+"-l",O<0),z.toggleClass(P.scrollableXClass+"-r",X<O),z.toggleClass(P.scrollableYClass+"-u",W<0),z.toggleClass(P.scrollableYClass+"-d",Y<W);var i=ft(z[0]),r=L+parseFloat(z.css("padding-top"));p.each(function(t,e){var o,n,l=U(e).data(ct);document.body.contains(l)&&document.body.contains(e)&&(o=ft(l),n=ft(e),U(e).css("font-size",U(l).css("font-size")),P.stickyToBottom&&o.top>i.bottom-n.height?U(e).css({position:"absolute",visibility:"visible",top:"auto",bottom:0}):o.top<i.top+r&&o.bottom>i.top+r?U(e).css({position:"absolute",visibility:"visible",top:r-Math.max(0,i.top+r+n.height-o.bottom),bottom:"auto"}):U(e).css({visibility:"hidden"}))}),n.takeRecords(),l=!1}function N(o,n,l,t,i,r){if(I&&I(),b=n,S(m=o)===O&&S(n)===W)return"function"==typeof t&&t(),Promise.resolve();var e=void 0===i;e&&(i=O,r=W);function s(){I=null,it(c),e&&j("scrollEnd",i,r,O,W),"function"==typeof t&&t(),u()}function a(){var t=+new Date-d;if(l<=t)return G(o,n),j("scrollMove",i,r,o,n,o-O,n-W),void s();var e=t/l-1,t=et.sqrt(1-e*e);G(e=(o-f)*t+f,t=(n-h)*t+h),j("scrollMove",i,r,e,t,e-O,t-W),c=lt(a)}var c,u,d=+new Date,f=O,h=W,p=new Promise(function(t){u=t});return I=s,e&&j("scrollStart",i,r),a(),p}function y(t,e,o,n,l){Q();l=K(-t||0,-e||0,l);return N(l.x,l.y,+o||0,n)}function V(t,e,o,n){return y((t*H.width||0)-O,(e*H.height||0)-W,o,n,!0)}function x(o,t,e,n,l){if(o=U(o,u)[0]){Q();var i=ut(t),r=ut(e),s=ft(o),a=ft(z[0]),t=s.left*(1-i.percentX)+s.right*i.percentX+i.offsetX-a.left-H.width*r.percentX-r.offsetX-O-$,c=s.top*(1-i.percentY)+s.bottom*i.percentY+i.offsetY-a.top-H.height*r.percentY-r.offsetY-W-L;return p.each(function(t,e){U.contains(U(e).data(ct),o)&&(c-=ft(e).height)}),y(et.round(t),et.round(c),n||e,l||n)}return Promise.resolve()}function Q(t){var e,o,n,l,i,r,s,a;z.is(":visible")&&(!t||(l=U(P.content,z)[0])&&(l!==u[0]&&(f&&f(),u[0]&&(u[0].scrollableOffsetX=O,u[0].scrollableOffsetY=W),k.splice.call(u,0,1,l),"static"===u.css("position")&&u.css("position","relative"),"auto"===u.css("z-index")&&u.css("z-index",0),O=l.scrollableOffsetX||0,W=l.scrollableOffsetY||0),n=U(p),p=U(P.sticky,l).map(function(t,e){var o,n=U(e).data();return n.stickyNote||(n.stickyNote=((e=U((o=e).cloneNode(!1)).append(U(P.stickyHandle,o).clone()).addClass(P.stickyClass).data(ct,o)).click(function(){x(o,"left top",200)}),e[0]))}),n.not(p).remove(),p.appendTo(z),g=P.pageItem?U(P.pageItem,l):U()),e=X,o=Y,u[t=i=0]&&(n=u.parentsUntil(z).filter(function(t,e){return"visible"!==U(e).css("overflow")}),a=ft(z[0]),r=ft(u[0]),$=r.left-a.left-O,L=r.top-a.top-W,n[0]&&(l=ft(n[0]),i=a.right-l.right-parseFloat(z.css("padding-right"))+parseFloat(n.css("padding-right")),t=a.bottom-l.bottom-parseFloat(z.css("padding-bottom"))+parseFloat(n.css("padding-bottom")))),v=U.extend({},C,P.getContentDimension(u)),H=U.extend({},C,P.getWrapperDimension(z)),X=P.hScroll?et.min(0,S(H.width-v.width-$-i+parseFloat(z.css("padding-left"))+parseFloat(z.css("border-left-width")))):0,Y=P.vScroll?et.min(0,S(H.height-v.height-L-t+parseFloat(z.css("padding-top"))+parseFloat(z.css("border-top-width")))):0,d={x:100*(1+X/v.width)||0,y:100*(1+Y/v.height)||0},h="x"===P.pageDirection||"y"===P.pageDirection?P.pageDirection:X&&Y&&g[1]?(a=ft(g[0]),(s=((r=ft(g[1])).left+r.right)/2)>a.right||s<a.left?"x":"y"):Y?"y":"x",Z&&Z!==z||O<X||W<Y?(f&&f(),a=K(r=O,s=W),j("scrollStart",r,s),G(a.x,a.y),m=O,b=W,j("scrollMove",r,s),j("scrollEnd",r,s)):(G(O,W),e===X&&o===Y||j("scrollProgressChange",O,W)))}function t(t){var e=t.originalEvent.touches,h=e&&(e[0].touchType||!0),o=P.handle,n=h?"touchmove":"mousemove",l=h?"touchend":"mouseup",i=h?"touchcancel":"mouseup";if(clearTimeout(_),"auto"===o&&(o=h?"content":"scrollbar"),!h&&1!==t.which||h&&1!==e.length||U(t.target).is(P.cancel)||U(P.cancel,z).has(t.target).length)2===t.which&&t.preventDefault();else if(!U(t.target).is(":text")){Q();var p,g,r=dt(t),s=+new Date,m=O,b=W,v=0,w=0,y=r.x,x=r.y,C=y,S=x,a=t.target,c={},k=!1,T=!1,D=1;if(h&&1===e.length)R=r;else if(!h&&R&&r.x===R.x&&r.y===x)return;if("scrollbar"===o||"both"===o){var u=A&&X<0&&ht(A,5,r,!1);switch(u){case 1:case-1:return t.preventDefault(),void V(u,0,100);case 2:g=!(p=!0),D=-100/d.x*(1-$/H.width);break;default:switch(u=q&&Y<0&&ht(q,5,r,!0)){case 1:case-1:return t.preventDefault(),void V(0,u,100);case 2:g=p=!0,D=-100/d.y*(1-L/H.height)}}}(h||"scrollbar"!==o||p)&&(h||t.preventDefault(),p&&(Z=Z||z),I&&I(),c[n]=function(t){if(R=null,!(Z&&Z!==z||T)){var e=dt(t),o=e.x-y,n=e.y-x,l=o,i=n,r=m+(e.x-C)*D,s=b+(e.y-S)*D,a=et.abs(e.x-C),c=et.abs(e.y-S),u=a/c<1,d=P.hBounce&&!p,f=P.vBounce&&!p;if(!(!o&&!n||!k&&"stylus"===h&&a<10&&c<10)){if(t.preventDefault(),y=e.x,x=e.y,void 0===g)if(p)g=u;else{if(!h&&a<6&&c<6||!P.vScroll&&u||!P.hScroll&&!u)return;e=gt(t.target,z[0]);if(e&&e.x&&e.y)return void F(t);if((u&&!Y||!u&&!X)&&(z.parents().filter(function(t,e){return 0<=U.inArray(e,st)})[0]||gt(z[0],document.body)))return void F(t);g=0,e?g=!e.y:P.lockDirection&&(g=!(c+6<=a)&&(a+6<=c||g))}if(Z=Z||z,k||(k=!0,h||rt.appendTo(z),j("scrollStart",m,b)),P.vScroll&&(0===g||g)||(s=W,n=0,P.vScroll&&(i=0)),(!P.hScroll||0!==g&&g)&&(r=O,o=0,P.hScroll&&(l=0)),0<r||r<X?(r=d?O+o/2:0<r?0:X,d||(v=et.max(0,100-et.abs(v))*((v||o)/et.abs(v||o))/2+v)):r!==O&&(d||(v/=4)),0<s||s<Y?(s=f?W+n/2:0<s?0:Y,f||(w=et.max(0,100-et.abs(w))*((w||n)/et.abs(w||n))/2+w)):s!==W&&(f||(w/=4)),P.pageItem&&P.snapToPage){var f=K(r,s,!0),r=f.x,s=f.y;if(f.pageChanged)return N(r,s,P.bounceDuration,E,m,b),void(T=!0)}j("touchMove",m,b,r,s,l,i),r===O&&s===W||(j("scrollMove",m,b,r,s,o,n),G(r,s)),r=v,s=w,M&&(0<r?M.css({width:J(r)}).fadeIn().parent().css({left:0,right:"auto"}):r<0?M.css({width:J(-r)}).fadeIn().parent().css({left:"auto",right:0}):M.css({width:0}).fadeOut(),M.parent().toggleClass(P.glowClass+"-x-l",0<r),M.parent().toggleClass(P.glowClass+"-x-r",r<0)),B&&(0<s?B.css({height:J(s)}).fadeIn().parent().css({top:0,bottom:"auto"}):s<0?B.css({height:J(-s)}).fadeIn().parent().css({top:"auto",bottom:0}):B.css({height:0}).fadeOut(),B.parent().toggleClass(P.glowClass+"-y-u",0<s),B.parent().toggleClass(P.glowClass+"-y-d",s<0))}}},c[l]=F,c[i]=F,U(document).on(c),f=function(){f=null,I&&I(),F({})},a.setCapture&&a.setCapture(),z.addClass(P.scrollingClass))}function E(){k&&j("scrollEnd",m,b),z.removeClass(P.scrollingClass)}function F(t){var e,o,n,l;Z===z&&(Z=null),U(document).off(c),a.releaseCapture&&a.releaseCapture(),k?(h||(t.target===a&&window.addEventListener&&window.addEventListener("click",function t(e){e.stopImmediatePropagation(),e.preventDefault(),window.removeEventListener("click",t,!0)},!0),rt.detach()),j("scrollStop",m,b),M&&M.fadeOut(),B&&B.fadeOut(),T?E():(n=+new Date-s,o=e=tt,P.momentum&&n<300&&!p&&(e=pt(O-m,n,m<O?-O:O-X,P.bounce&&H.width),o=pt(W-b,n,b<W?-W:W-Y,P.bounce&&H.height)),l=O+e.dist,t=W+o.dist,P.pageItem&&P.snapToPage&&(l=(n=K(l,t,!0)).x,t=n.y),N(l,t,et.max(e.time,o.time),function(){var t,e;t=E,N((e=K(O,W)).x,e.y,P.bounceDuration,t,m,b)},m,b))):E()}}U.inArray(st,this)<0&&st.splice(0,0,this);var e={};e.touchstart=t,e.mousedown=t,e[nt]=function(t){var e=t.originalEvent,o=0,n=0,l=P.hScroll&&X,i=P.vScroll&&Y;if(!(!P.wheel||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||t.isDefaultPrevented())&&(void 0!==e.deltaX?(o=-e.deltaX,n=-e.deltaY):void 0!==e.wheelDeltaX?(o=e.wheelDeltaX,n=e.wheelDeltaY):void 0!==e.wheelDelta?n=e.wheelDelta:void 0!==e.detail&&(n=-e.detail),r=!(E=E||0!==o)||et.abs(n)>et.abs(o),(o||n)&&(!Z||Z===z||!z.find(Z)[0]&&!Z.find(z)[0]))){e=gt(t.target,z[0]);if(!(e&&(r?e.y:e.x))){if(E){if(!l&&!r||!i&&r)return}else i||o||(o=n);o*=P.hScroll,n*=P.vScroll,Q();var r,e=t.timeStamp,s=O,a=W;!c||100<e-c.timestamp?(c={startX:s,startY:a},f||j("scrollStart",s,a),f=function(){clearTimeout(c.timeout),c.cancelled=!0,f=null,I&&I(),j("scrollStop",s,a),j("scrollEnd",s,a)}):(s=c.startX,a=c.startY),c.timestamp=e,c.cancelled||(r=(l=K(O+o,W+n,!0)).x,i=l.y,r!==O||i!==W?(e=function(){z.removeClass(P.scrollingClass),j("scrollStop",s,a),j("scrollEnd",s,a),f=c=null},(Z=z).addClass(P.scrollingClass),l.pageChanged?N(r,i,P.bounceDuration,e,s,a):(clearTimeout(c.timeout),c.timeout=setTimeout(e,200),j("scrollMove",s,a,r,i,o,n),G(r,i),m=r,b=i)):Z!==z&&"auto"!==z.css("overscroll-behavior")&&(Z=z),Z===z&&(t.stopPropagation(),t.preventDefault(),clearTimeout(_),_=setTimeout(function(){Z=null},250)))}}},e.transitionend=function(){Q()},e.animationend=function(){Q()},e.focusin=function(t){var e=z[0].scrollTop,o=z[0].scrollLeft;(e||o)&&(z[0].scrollTop=0,z[0].scrollLeft=0,y(o-O,e-W,0))},e.keydown=function(t){var e=t.keyCode;if(!(t.isDefaultPrevented()||U(document.activeElement).is("select,button,input,textarea")&&33!==e&&34!==e))switch(e){case 32:case 33:case 34:y(-O,H.height*(33===e?-.8:.8)-W,50),t.preventDefault();break;case 37:case 38:case 39:case 40:y((37===e?-50:39===e?50:0)-O,(38===e?-50:40===e?50:0)-W,50),t.preventDefault()}},z.on(e),A&&"content"===P.handle&&A.css("pointer-events","none"),q&&"content"===P.handle&&q.css("pointer-events","none"),"hidden"!==z.css("overflow")&&"visible"!==z.css("overflow")&&z.css("overflow","hidden"),r&&z.css("touch-action","none"),window.MutationObserver?(n=new MutationObserver(function(){!l&&s&&Q(!0)})).observe(z[0],{subtree:!0,childList:!0,attributes:!0,characterData:!0}):n={takeRecords:function(){}},z.data(at,{destroy:function(){G(0,0),st.splice(U.inArray(z[0],st),1),z.off(e),A&&A.remove(),q&&q.remove(),Q=function(){},s=!(P={}),z.data(at,null),z.splice(0,1),u.splice(0,1),n.disconnect&&n.disconnect()},enable:function(){s||(z.on(e),s=!0,Q())},disable:function(){s&&(z.off(e),A&&A.hide(),q&&q.hide(),s=!1)},setOptions:function(t){U.extend(P,t),Q(!0)},refresh:function(){Q(!0)},scrollPadding:function(){return{top:L,left:$,right:A?P.scrollbarSize+2*P.scrollbarInset:0,bottom:q?P.scrollbarSize+2*P.scrollbarInset:0}},stop:function(){f&&f(),m=O,b=W},scrollLeft:function(){return-m},scrollTop:function(){return-b},scrollBy:function(t,e,o,n){return y((t||0)-O,(e||0)-W,o,n)},scrollTo:function(t,e,o,n){return y(t,e,o,n)},scrollByPage:V,scrollToPage:function(t,e,o,n){return y(t*H.width||0,e*H.height,o,n)},scrollToElement:x}),Q(!0)})},U.scrollable=function(t,e){return"object"==typeof e&&U(t).scrollable(e),U.data(t,at)},U(window).on("orientationchange resize",function(){clearTimeout(t),t=setTimeout(function(){st.scrollable("refresh")},n?200:0)}),U(window).on(nt,function t(e){0!==e.originalEvent.deltaX&&(E=!0,U(window).off(nt,t))}),U(window).on("keydown",function(t){if(!t.isDefaultPrevented())switch(t.keyCode){case 32:case 33:case 34:case 37:case 38:case 39:case 40:st.length&&U(U.uniqueSort(st)).eq(0).triggerHandler(t)}}),U(window).on("hashchange",function(){location.hash.slice(1)&&U(location.hash).parents().each(function(t,e){0<=U.inArray(e,st)&&(e.scrollTop=0)})});try{window.top!==window.self&&U(window.top).on("mouseenter",function(){U(document).trigger("mouseup")})}catch(t){}});