!function(t){"function"==typeof define&&define.amd?define("jquery-scrollable",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(U){"use strict";function J(t){return(t||0).toFixed(5)+"%"}function x(t){return(t||0)+"px"}var Z,t,_={dist:0,time:0},C={width:0,height:0},e={percentX:0,percentY:0,offsetX:0,offsetY:0},o={center:.5,right:1,bottom:1},S=function(t){return t>>0},k=Array.prototype,tt=Math,D=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":window.opera?"O":"",n=/android/gi.test(navigator.appVersion),l=/hp-tablet/gi.test(navigator.appVersion),i=document.documentElement,r=void 0!==window.ontouchstart&&!l,T=void 0!==i.style[D+"Transform"],l=window.WebKitCSSMatrix&&void 0!==(new window.WebKitCSSMatrix).m11,E=!1,X="translate"+(l?"3d(":"("),et=l?",0)":")",ot="onwheel"in window?"wheel":"Moz"==D?"DOMMouseScroll":"mousewheel",nt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,0)},lt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,it=U('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);"></div>'),s=U('<div style="position:fixed;top:0;left:0;">')[0],rt=U(),st="xScrollable",at="xScrollableSticky";function ct(t){return/(left|center|right)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?(?:\s+(top|center|bottom)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?)?/g.test(t)?{percentX:(o[RegExp.$1]||0)+("%"===RegExp.$3&&+RegExp.$2),percentY:(o[RegExp.$4||!RegExp.$5&&RegExp.$1]||0)+("%"===RegExp.$6&&+RegExp.$5),offsetX:+("px"===RegExp.$3&&+RegExp.$2),offsetY:+("px"===RegExp.$6&&+RegExp.$5)}:e}function a(t,e,o){var n=U('<div style="position:absolute;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"left":"top",x(o.scrollbarInset)),n.css(o.scrollbarTrackStyle),t.css(o.scrollbarStyle),o.scrollbarClass&&n.addClass(o.scrollbarClass+" "+o.scrollbarClass+"-"+e),t}function c(t,e,o){var n=U('<div style="position:absolute;pointer-events:none;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"height":"width","100%"),n.css(o.glowStyle),t.css("x"===e?"height":"width","100%"),o.glowClass&&n.addClass(o.glowClass+" "+o.glowClass+"-"+e),t}function ut(t){t=(t.originalEvent.touches||[t])[0];return{x:t.pageX,y:t.pageY}}function u(t,e,o,n){var l=this;l.left=t,l.top=e,l.right=o,l.bottom=n,l.width=l.right-l.left,l.height=l.bottom-l.top}function d(t,e,o,n){function l(t){return S(1e3*t)/1e3}return void 0!==t.top?new u(l(t.left),l(t.top),l(t.right),l(t.bottom)):void 0===o?new u(t,e,t,e):new u(t,e,o,n)}function dt(t){var e;return t===i||t===window?(document.body.contains(s[0])||document.body.appendChild(s[0]),e=dt(s[0]),d(0,0,i.offsetWidth,i.offsetHeight).translate(e.left,e.top)):i.contains(t)?d(t.getBoundingClientRect()):d(0,0,0,0)}function f(t){if(t[0]){if(window.getComputedStyle){var e=window.getComputedStyle(t[0]),o=dt(t[0]);return{width:o.right-o.left-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),height:o.bottom-o.top-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth))}}return{width:t.width(),height:t.height()}}}function p(t){if(t[0]){t=dt(t[0]);return{width:t.width,height:t.height}}}function ft(t,e,o,n){var l=dt(t[0]),i=o.x+e>=l.left&&o.x-e<=l.right,e=o.y+e>=l.top&&o.y-e<=l.bottom;if(i&&e)return 2;t=dt(t.parent()[0]);if(n){if(i&&o.y>=t.top&&o.y<=t.bottom)return o.y>l.bottom?1:-1}else if(e&&o.x>=t.left&&o.x<=t.right)return o.x>l.right?1:-1}function pt(t,e,o,n){var l=tt.abs(t)/e,e=l*l/.0012;return o<e&&(l=l*(o+=n/(6/(e/l*6e-4)))/e,e=o),e<=0?_:{dist:e*(t<0?-1:1),time:tt.max(10,S(l/6e-4))}}function ht(t,e,o,n){for(;t!==e;t=t.parentNode){var l=getComputedStyle(t);if(n&&t.scrollHeight>t.offsetHeight&&("auto"===l.overflowY||"scroll"===l.overflowY)&&(0<n&&0<t.scrollTop||n<0&&t.scrollTop+t.offsetHeight<t.scrollHeight))return 1;if(o&&t.scrollWidth>t.offsetWidth&&("auto"===l.overflowX||"scroll"===l.overflowX)&&(0<o&&0<t.scrollLeft||o<0&&t.scrollLeft+t.offsetWidth<t.scrollWidth))return 1}}U.fn.scrollable=function(o){if("string"==typeof o){var n,l=arguments;return this.each(function(){var t,e=U.data(this,st);if(e)t=e[o].apply(null,[].slice.call(l,1));else switch(console.warn("Scrollable "+o+" should not be called before initialization"),o){case"scrollLeft":case"scrollTop":t=0;break;case"scrollPadding":t={top:0,left:0,right:0,bottom:0};break;case"scrollBy":case"scrollTo":case"scrollByPage":case"scrollToPage":case"scrollToElement":t=Promise.resolve()}if(void 0!==t)return n=t,!1}),void 0!==n?n:this}var i={content:">:visible:eq(0)",cancel:"",getWrapperDimension:f,getContentDimension:p,handle:"auto",wheel:!0,hScroll:!0,vScroll:!0,hGlow:!1,vGlow:!1,bounce:!0,hBounce:!0,vBounce:!0,bounceDuration:200,momentum:!0,lockDirection:!0,scrollingClass:"scrolling",scrollableXClass:"scrollable-x",scrollableYClass:"scrollable-y",scrollbar:a,scrollbarClass:"",scrollbarInset:3,scrollbarSize:5,scrollbarStyle:{backgroundColor:"black",opacity:.7},scrollbarTrackStyle:{},glow:c,glowClass:"",glowStyle:{},pageItem:"",pageItemAlign:"center",pageDirection:"auto",snapToPage:!1,sticky:"",stickyHandle:"",stickyToBottom:!1,stickyClass:"sticky",touchMove:null,scrollStart:null,scrollMove:null,scrollStop:null,scrollEnd:null};return U.extend(i,o),U.extend(i.scrollbarTrackStyle,{bottom:x(i.scrollbarInset),right:x(i.scrollbarInset)}),U.extend(i.scrollbarStyle,{bottom:0,right:0,minWidth:x(i.scrollbarSize),minHeight:x(i.scrollbarSize)}),i.hBounce=i.bounce&&i.hBounce,i.vBounce=i.bounce&&i.vBounce,this.each(function(){var n,l,F,Y,p,d,R,f,I,c,z=U.extend(!0,{},i),q=U(this),u=U(),h=U(),g=U(),P=z.scrollbar&&z.hScroll&&U(z.scrollbar(q,"x",z)),A=z.scrollbar&&z.vScroll&&U(z.scrollbar(q,"y",z)),M=z.glow&&z.hGlow&&U(z.glow(q,"x",z)).hide(),B=z.glow&&z.vGlow&&U(z.glow(q,"y",z)).hide(),s=!0,W=0,O=0,L=0,$=0,m=0,b=0,a=C,H=C;function v(t){var o="x"===p?["left","right","width"]:["top","bottom","height"],n=g.length,l=dt(q[0]);l[o[0]]-=t||0,l[o[1]]-=t||0;function i(t,e){return e[o[0]]*((n-t)/n)+e[o[1]]*(t/n)}var r,s=(l[o[0]]+l[o[1]])/2,a=1/0;return g.each(function(t,e){e=dt(e);(0|e[o[2]])>(0|l[o[2]])&&(e[o[0]]<s&&e[o[1]]>l[o[1]]||e[o[0]]<0&&e[o[1]]>s)&&(a=0,r=t);e=tt.abs(i(t,e)-i(t,l));e<a&&(a=e,r=t)}),r}function j(t,e,o,n,l,i,r){var s;"function"==typeof z[t]&&(s=z.pageItem?v():-1,s={type:t,startX:-e,startY:-o,offsetX:-(n=void 0===n?W:n),offsetY:-(l=void 0===l?O:l),deltaX:-i||0,deltaY:-r||0,percentX:n/F*100||0,percentY:l/Y*100||0,pageIndex:s,pageItem:g[s]||null},z[t].call(q[0],s))}function G(t,e,o){function n(t,e){return{x:0<t?0:t<F?F:S(t),y:0<e?0:e<Y?Y:S(e)}}var l=n(t,e);if(z.pageItem&&z.snapToPage){var i=z.pageItemAlign,r=p,s="x"===r?["left","right","width"]:["top","bottom","height"],a={x:W,y:O};if(l[r]!==a[r]){var c=g.length,t=v(),e=v(l[r]-a[r]),u=dt(q[0]);o&&e===t&&(l[r]<a[r]?t<c-1:0<t)&&((f=dt(g[t]))[s[2]]<u[s[2]]||(l[r]<a[r]?S(f[s[1]])<=u[s[1]]:tt.ceil(f[s[0]])>=u[s[0]]))&&(e+=l[r]<a[r]?1:-1);var d,f=dt(g[e]),c=s[2];switch(f[s[2]]>u[s[2]]?c=l[r]<a[r]^t===e?s[0]:s[1]:i!==s[0]&&i!==s[1]||(c=i),c){case s[0]:d=f[s[0]];break;case s[1]:d=f[s[1]]-u[s[2]];break;default:d=(f[s[0]]+f[s[1]]-u[s[2]])/2}d=S(a[r]+u[s[0]]-d),r=e===t?(l[r]=tt[l[r]<a[r]?"max":"min"](d,l[r]),l[r]===d):(l[r]=d,!0),(l=n(l.x,l.y)).pageChanged=r}}return l}function N(t,e){var o;l=!0,W=S(t),O=S(e),T?u.css(D+"Transform",(t=x(W),e=x(O),X+t+","+e+et)):u.css({left:x(W),top:x(O)}),P&&(o=-W/a.width*100,0<W?P.css({width:J(d.x+o),left:0,right:"auto"}):F<=W?P.css({width:J(d.x),left:J(o),right:"auto"}):P.css({width:J(100-o),left:"auto",right:0}),P.toggle(s&&F<0)),A&&(o=-O/a.height*100,0<O?A.css({height:J(d.y+o),top:0,bottom:"auto"}):Y<=O?A.css({height:J(d.y),top:J(o),bottom:"auto"}):A.css({height:J(100-o),top:"auto",bottom:0}),A.toggle(s&&Y<0)),q.toggleClass(z.scrollableXClass,F<0),q.toggleClass(z.scrollableYClass,Y<0),q.toggleClass(z.scrollableXClass+"-l",W<0),q.toggleClass(z.scrollableXClass+"-r",F<W),q.toggleClass(z.scrollableYClass+"-u",O<0),q.toggleClass(z.scrollableYClass+"-d",Y<O);var i=dt(q[0]),r=$+parseFloat(q.css("padding-top"));h.each(function(t,e){var o,n,l=U(e).data(at);document.body.contains(l)&&document.body.contains(e)&&(o=dt(l),n=dt(e),U(e).css("font-size",U(l).css("font-size")),z.stickyToBottom&&o.top>i.bottom-n.height?U(e).css({position:"absolute",visibility:"visible",top:"auto",bottom:0}):o.top<i.top+r&&o.bottom>i.top+r?U(e).css({position:"absolute",visibility:"visible",top:r-Math.max(0,i.top+r+n.height-o.bottom),bottom:"auto"}):U(e).css({visibility:"hidden"}))}),n.takeRecords(),l=!1}function V(o,n,l,t,i,r){if(I&&I(),b=n,S(m=o)===W&&S(n)===O)return"function"==typeof t&&t(),Promise.resolve();var e=void 0===i;e&&(i=W,r=O);function s(){I=null,lt(c),e&&j("scrollEnd",i,r,W,O),"function"==typeof t&&t(),u()}function a(){var t=+new Date-d;if(l<=t)return N(o,n),j("scrollMove",i,r,o,n,o-W,n-O),void s();var e=t/l-1,t=tt.sqrt(1-e*e);N(e=(o-f)*t+f,t=(n-p)*t+p),j("scrollMove",i,r,e,t,e-W,t-O),c=nt(a)}var c,u,d=+new Date,f=W,p=O,h=new Promise(function(t){u=t});return I=s,e&&j("scrollStart",i,r),a(),h}function w(t,e,o,n,l){Q();l=G(-t||0,-e||0,l);return V(l.x,l.y,+o||0,n)}function K(t,e,o,n){return w((t*H.width||0)-W,(e*H.height||0)-O,o,n,!0)}function y(o,t,e,n,l){if(o=U(o,u)[0]){Q();var i=ct(t),r=ct(e),s=dt(o),a=dt(q[0]),t=s.left*(1-i.percentX)+s.right*i.percentX+i.offsetX-a.left-H.width*r.percentX-r.offsetX-W-L,c=s.top*(1-i.percentY)+s.bottom*i.percentY+i.offsetY-a.top-H.height*r.percentY-r.offsetY-O-$;return h.each(function(t,e){U.contains(U(e).data(at),o)&&(c-=dt(e).height)}),w(tt.round(t),tt.round(c),n||e,l||n)}return Promise.resolve()}function Q(t){var e,o,n,l,i,r;q.is(":visible")&&(!t||(o=U(z.content,q)[0])&&(o!==u[0]&&(f&&f(),u[0]&&(u[0].scrollableOffsetX=W,u[0].scrollableOffsetY=O),k.splice.call(u,0,1,o),"static"===u.css("position")&&u.css("position","relative"),"auto"===u.css("z-index")&&u.css("z-index",0),W=o.scrollableOffsetX||0,O=o.scrollableOffsetY||0),e=U(h),h=U(z.sticky,o).map(function(t,e){var o,n=U(e).data();return n.stickyNote||(n.stickyNote=((e=U((o=e).cloneNode(!1)).append(U(z.stickyHandle,o).clone()).addClass(z.stickyClass).data(at,o)).click(function(){y(o,"left top",200)}),e[0]))}),e.not(h).remove(),h.appendTo(q),g=z.pageItem?U(z.pageItem,o):U()),u[t=n=0]&&(e=u.parentsUntil(q).filter(function(t,e){return"visible"!==U(e).css("overflow")}),r=dt(q[0]),l=dt(u[0]),L=l.left-r.left-W,$=l.top-r.top-O,e[0]&&(o=dt(e[0]),n=r.right-o.right-parseFloat(q.css("padding-right"))+parseFloat(e.css("padding-right")),t=r.bottom-o.bottom-parseFloat(q.css("padding-bottom"))+parseFloat(e.css("padding-bottom")))),a=U.extend({},C,z.getContentDimension(u)),H=U.extend({},C,z.getWrapperDimension(q)),F=z.hScroll?tt.min(0,S(H.width-a.width-L-n+parseFloat(q.css("padding-left")))):0,Y=z.vScroll?tt.min(0,S(H.height-a.height-$-t+parseFloat(q.css("padding-top")))):0,d={x:100*(1+F/a.width)||0,y:100*(1+Y/a.height)||0},p="x"===z.pageDirection||"y"===z.pageDirection?z.pageDirection:F&&Y&&g[1]?(r=dt(g[0]),(i=((l=dt(g[1])).left+l.right)/2)>r.right||i<r.left?"x":"y"):Y?"y":"x",Z&&Z!==q||W<F||O<Y?(f&&f(),r=G(l=W,i=O),j("scrollStart",l,i),N(r.x,r.y),m=W,b=O,j("scrollMove",l,i),j("scrollEnd",l,i)):N(W,O))}function t(t){var e=t.originalEvent.touches,p=e&&(e[0].touchType||!0),o=z.handle,n=p?"touchmove":"mousemove",l=p?"touchend":"mouseup",i=p?"touchcancel":"mouseup";if("auto"===o&&(o=p?"content":"scrollbar"),!p&&1!==t.which||p&&1!==e.length||U(t.target).is(z.cancel)||U(z.cancel,q).has(t.target).length)2===t.which&&t.preventDefault();else if(!U(t.target).is(":text")){Q();var h,g,r=ut(t),s=+new Date,m=W,b=O,v=0,w=0,y=r.x,x=r.y,C=y,S=x,a=t.target,c={},k=!1,D=!1,T=1;if(p&&1===e.length)R=r;else if(!p&&R&&r.x===R.x&&r.y===x)return;if("scrollbar"===o||"both"===o){var u=P&&F<0&&ft(P,5,r,!1);switch(u){case 1:case-1:return t.preventDefault(),void K(u,0,100);case 2:g=!(h=!0),T=-100/d.x*(1-L/H.width);break;default:switch(u=A&&Y<0&&ft(A,5,r,!0)){case 1:case-1:return t.preventDefault(),void K(0,u,100);case 2:g=h=!0,T=-100/d.y*(1-$/H.height)}}}(p||"scrollbar"!==o||h)&&(p||t.preventDefault(),h&&(Z=Z||q),I&&I(),c[n]=function(t){if(R=null,!(Z&&Z!==q||D)){var e=ut(t),o=e.x-y,n=e.y-x,l=o,i=n,r=m+(e.x-C)*T,s=b+(e.y-S)*T,a=tt.abs(e.x-C),c=tt.abs(e.y-S),u=a/c<1,d=z.hBounce&&!h,f=z.vBounce&&!h;if(!(!o&&!n||!k&&"stylus"===p&&a<10&&c<10)){if(t.preventDefault(),y=e.x,x=e.y,!h&&void 0===g){if(!p&&a<6&&c<6||!z.vScroll&&u||!z.hScroll&&!u)return;if(ht(t.target,q[0],o,n))return void X(t);if((u&&!Y||!u&&!F)&&(ht(q[0],document.body,o,n)||q.parents().filter(function(t,e){return U(e).data(st)})[0]))return void X(t)}if(void 0===g&&(g=u),Z=Z||q,k||(k=!0,p||it.appendTo(q),j("scrollStart",m,b)),(!z.vScroll||!h&&z.lockDirection&&c+6<=a||h&&!g)&&(s=O,n=0,z.vScroll&&(i=0)),(!z.hScroll||!h&&z.lockDirection&&a+6<=c||h&&g)&&(r=W,o=0,z.hScroll&&(l=0)),0<r||r<F?(r=d?W+o/2:0<r?0:F,d||(v=tt.max(0,100-tt.abs(v))*((v||o)/tt.abs(v||o))/2+v)):r!==W&&(d||(v/=4)),0<s||s<Y?(s=f?O+n/2:0<s?0:Y,f||(w=tt.max(0,100-tt.abs(w))*((w||n)/tt.abs(w||n))/2+w)):s!==O&&(f||(w/=4)),z.pageItem&&z.snapToPage){var f=G(r,s,!0),r=f.x,s=f.y;if(f.pageChanged)return V(r,s,z.bounceDuration,E,m,b),void(D=!0)}j("touchMove",m,b,r,s,l,i),r===W&&s===O||(j("scrollMove",m,b,r,s,o,n),N(r,s)),r=v,s=w,M&&(0<r?M.css({width:J(r)}).fadeIn().parent().css({left:0,right:"auto"}):r<0?M.css({width:J(-r)}).fadeIn().parent().css({left:"auto",right:0}):M.css({width:0}).fadeOut(),M.parent().toggleClass(z.glowClass+"-x-l",0<r),M.parent().toggleClass(z.glowClass+"-x-r",r<0)),B&&(0<s?B.css({height:J(s)}).fadeIn().parent().css({top:0,bottom:"auto"}):s<0?B.css({height:J(-s)}).fadeIn().parent().css({top:"auto",bottom:0}):B.css({height:0}).fadeOut(),B.parent().toggleClass(z.glowClass+"-y-u",0<s),B.parent().toggleClass(z.glowClass+"-y-d",s<0))}}},c[l]=X,c[i]=X,U(document).on(c),f=function(){f=null,I&&I(),X({})},a.setCapture&&a.setCapture(),q.addClass(z.scrollingClass))}function E(){k&&j("scrollEnd",m,b),q.removeClass(z.scrollingClass)}function X(t){var e,o,n,l;Z===q&&(Z=null),U(document).off(c),a.releaseCapture&&a.releaseCapture(),k?(p||(t.target===a&&window.addEventListener&&window.addEventListener("click",function t(e){e.stopImmediatePropagation(),e.preventDefault(),window.removeEventListener("click",t,!0)},!0),it.detach()),j("scrollStop",m,b),M&&M.fadeOut(),B&&B.fadeOut(),D?E():(n=+new Date-s,o=e=_,z.momentum&&n<300&&!h&&(e=pt(W-m,n,m<W?-W:W-F,z.bounce&&H.width),o=pt(O-b,n,b<O?-O:O-Y,z.bounce&&H.height)),l=W+e.dist,t=O+o.dist,z.pageItem&&z.snapToPage&&(l=(n=G(l,t,!0)).x,t=n.y),V(l,t,tt.max(e.time,o.time),function(){var t,e;t=E,V((e=G(W,O)).x,e.y,z.bounceDuration,t,m,b)},m,b))):E()}}U.inArray(rt,this)<0&&rt.splice(0,0,this);var e={};e.touchstart=t,e.mousedown=t,e[ot]=function(t){var e=t.originalEvent,o=0,n=0,l=z.vScroll&&Y,i=z.hScroll&&F;if(z.wheel&&!t.isDefaultPrevented()&&(void 0!==e.deltaX?(o=-e.deltaX,n=-e.deltaY):void 0!==e.wheelDeltaX?(o=e.wheelDeltaX,n=e.wheelDeltaY):void 0!==e.wheelDelta?n=e.wheelDelta:void 0!==e.detail&&(n=-e.detail),(o||n)&&!ht(t.target,q[0],o,n))){if(E){if(r=tt.abs(n)>tt.abs(o),!i&&!r||!l&&r)return}else i||o||(o=n);o*=z.hScroll,n*=z.vScroll,Q();var r,e=t.timeStamp,s=W,a=O;!c||100<e-c.timestamp?(c={startX:s,startY:a},f||j("scrollStart",s,a),f=function(){clearTimeout(c.timeout),c.cancelled=!0,f=null,I&&I(),j("scrollStop",s,a),j("scrollEnd",s,a)}):(s=c.startX,a=c.startY),c.timestamp=e,c.cancelled||(r=(l=G(W+o,O+n,!0)).x,i=l.y,r===W&&i===O||(e=function(){q.removeClass(z.scrollingClass),j("scrollStop",s,a),j("scrollEnd",s,a),f=c=null},q.addClass(z.scrollingClass),l.pageChanged?V(r,i,z.bounceDuration,e,s,a):(clearTimeout(c.timeout),c.timeout=setTimeout(e,200),j("scrollMove",s,a,r,i,o,n),N(r,i),m=r,b=i,(F<0||Y<0)&&t.cancelable&&t.preventDefault()),t.stopPropagation()))}},e.transitionend=function(){Q()},e.animationend=function(){Q()},e.focusin=function(t){var e=q[0].scrollTop,o=q[0].scrollLeft;(e||o)&&(q[0].scrollTop=0,q[0].scrollLeft=0,w(o-W,e-O,0))},e.keydown=function(t){var e=t.keyCode;if(!(t.isDefaultPrevented()||U(document.activeElement).is("select,button,input,textarea")&&33!==e&&34!==e))switch(e){case 32:case 33:case 34:w(-W,H.height*(33===e?-.8:.8)-O,50),t.preventDefault();break;case 37:case 38:case 39:case 40:w((37===e?-50:39===e?50:0)-W,(38===e?-50:40===e?50:0)-O,50),t.preventDefault()}},q.on(e),P&&"content"===z.handle&&P.css("pointer-events","none"),A&&"content"===z.handle&&A.css("pointer-events","none"),"hidden"!==q.css("overflow")&&"visible"!==q.css("overflow")&&q.css("overflow","hidden"),r&&q.css("touch-action","none"),window.MutationObserver?(n=new MutationObserver(function(){!l&&s&&Q(!0)})).observe(q[0],{subtree:!0,childList:!0,attributes:!0,characterData:!0}):n={takeRecords:function(){}},q.data(st,{destroy:function(){N(0,0),rt.splice(U.inArray(q[0],rt),1),q.off(e),P&&P.remove(),A&&A.remove(),Q=function(){},s=!(z={}),q.data(st,null),q.splice(0,1),u.splice(0,1),n.disconnect&&n.disconnect()},enable:function(){s||(q.on(e),s=!0,Q())},disable:function(){s&&(q.off(e),P&&P.hide(),A&&A.hide(),s=!1)},setOptions:function(t){U.extend(z,t),Q(!0)},refresh:function(){Q(!0)},scrollPadding:function(){return{top:$,left:L,right:P?z.scrollbarSize+2*z.scrollbarInset:0,bottom:A?z.scrollbarSize+2*z.scrollbarInset:0}},stop:function(){f&&f(),m=W,b=O},scrollLeft:function(){return-m},scrollTop:function(){return-b},scrollBy:function(t,e,o,n){return w((t||0)-W,(e||0)-O,o,n)},scrollTo:function(t,e,o,n){return w(t,e,o,n)},scrollByPage:K,scrollToPage:function(t,e,o,n){return w(t*H.width||0,e*H.height,o,n)},scrollToElement:y}),Q(!0)})},U.scrollable=function(t,e){return"object"==typeof e&&U(t).scrollable(e),U.data(t,st)},U(window).on("orientationchange resize",function(){clearTimeout(t),t=setTimeout(function(){rt.scrollable("refresh")},n?200:0)}),U(window).on(ot,function t(e){0<e.originalEvent.deltaX&&(E=!0,U(window).off(ot,t))}),U(window).on("keydown",function(t){if(!t.isDefaultPrevented())switch(t.keyCode){case 32:case 33:case 34:case 37:case 38:case 39:case 40:rt.length&&U(U.uniqueSort(rt)).eq(0).triggerHandler(t)}});try{window.top!==window.self&&U(window.top).on("mouseenter",function(){U(document).trigger("mouseup")})}catch(t){}});