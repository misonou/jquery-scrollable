!function(t){"function"==typeof define&&define.amd?define("jquery-scrollable",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(U){"use strict";function J(t){return(t||0).toFixed(5)+"%"}function a(t){return(t||0)+"px"}var Z,t,_={dist:0,time:0},C={width:0,height:0},e={percentX:0,percentY:0,offsetX:0,offsetY:0},o={center:.5,right:1,bottom:1},S=function(t){return t>>0},k=Array.prototype,tt=Math,D=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":window.opera?"O":"",n=/android/gi.test(navigator.appVersion),l=/hp-tablet/gi.test(navigator.appVersion),i=document.documentElement,r=void 0!==window.ontouchstart&&!l,T=void 0!==i.style[D+"Transform"],l=window.WebKitCSSMatrix&&void 0!==(new window.WebKitCSSMatrix).m11,E=!1,F="translate"+(l?"3d(":"("),et=l?",0)":")",ot="onwheel"in window?"wheel":"Moz"==D?"DOMMouseScroll":"mousewheel",nt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,0)},lt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,it=U('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:9999;background:white;opacity:0;filter:alpha(opacity=0);"></div>'),s=U('<div style="position:fixed;top:0;left:0;">')[0],rt=U(),st="xScrollable",at="xScrollableSticky";function ct(t){return/(left|center|right)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?(?:\s+(top|center|bottom)?(?:((?:^|\s|[+-]?)\d+(?:\.\d+)?)(px|%))?)?/g.test(t)?{percentX:(o[RegExp.$1]||0)+("%"===RegExp.$3&&+RegExp.$2),percentY:(o[RegExp.$4||!RegExp.$5&&RegExp.$1]||0)+("%"===RegExp.$6&&+RegExp.$5),offsetX:+("px"===RegExp.$3&&+RegExp.$2),offsetY:+("px"===RegExp.$6&&+RegExp.$5)}:e}function c(t,e,o){var n=U('<div style="position:absolute;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"left":"top",a(o.scrollbarInset)),n.css(o.scrollbarTrackStyle),t.css(o.scrollbarStyle),o.scrollbarClass&&n.addClass(o.scrollbarClass+" "+o.scrollbarClass+"-"+e),t}function u(t,e,o){var n=U('<div style="position:absolute;pointer-events:none;font-size:0;z-index:1;"><div style="position:absolute;"></div></div>').appendTo(t),t=n.children().eq(0);return n.css("x"===e?"height":"width","100%"),n.css(o.glowStyle),t.css("x"===e?"height":"width","100%"),o.glowClass&&n.addClass(o.glowClass+" "+o.glowClass+"-"+e),t}function ut(t){t=(t.originalEvent.touches||[t])[0];return{x:t.clientX,y:t.clientY}}function d(t,e,o,n){var l=this;l.left=t,l.top=e,l.right=o,l.bottom=n,l.width=l.right-l.left,l.height=l.bottom-l.top}function f(t,e,o,n){function l(t){return S(1e3*t)/1e3}return void 0!==t.top?new d(l(t.left),l(t.top),l(t.right),l(t.bottom)):void 0===o?new d(t,e,t,e):new d(t,e,o,n)}function dt(t){var e;return t===i||t===window?(document.body.contains(s[0])||document.body.appendChild(s[0]),e=dt(s[0]),f(0,0,i.offsetWidth,i.offsetHeight).translate(e.left,e.top)):i.contains(t)?f(t.getBoundingClientRect()):f(0,0,0,0)}function h(t){if(t[0]){if(window.getComputedStyle){var e=window.getComputedStyle(t[0]),o=dt(t[0]);return{width:o.right-o.left-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),height:o.bottom-o.top-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth))}}return{width:t.width(),height:t.height()}}}function p(t){if(t[0]){t=dt(t[0]);return{width:t.width,height:t.height}}}function ft(t,e,o,n){var l=dt(t[0]),i=o.x+e>=l.left&&o.x-e<=l.right,e=o.y+e>=l.top&&o.y-e<=l.bottom;if(i&&e)return 2;t=dt(t.parent()[0]);if(n){if(i&&o.y>=t.top&&o.y<=t.bottom)return o.y>l.bottom?1:-1}else if(e&&o.x>=t.left&&o.x<=t.right)return o.x>l.right?1:-1}function ht(t,e,o,n){var l=tt.abs(t)/e,e=l*l/.0012;return o<e&&(l=l*(o+=n/(6/(e/l*6e-4)))/e,e=o),e<=0?_:{dist:e*(t<0?-1:1),time:tt.max(10,S(l/6e-4))}}function pt(t,e,o,n){for(;t!==e;t=t.parentNode){var l=getComputedStyle(t);if(n&&t.scrollHeight>t.offsetHeight&&("auto"===l.overflowY||"scroll"===l.overflowY)&&(0<n&&0<t.scrollTop||n<0&&t.scrollTop+t.offsetHeight<t.scrollHeight))return 1;if(o&&t.scrollWidth>t.offsetWidth&&("auto"===l.overflowX||"scroll"===l.overflowX)&&(0<o&&0<t.scrollLeft||o<0&&t.scrollLeft+t.offsetWidth<t.scrollWidth))return 1}}U.fn.scrollable=function(o){if("string"==typeof o){var n,l=arguments;return this.each(function(){var t,e=U.data(this,st);if(e)t=e[o].apply(null,[].slice.call(l,1));else switch(console.warn("Scrollable "+o+" should not be called before initialization"),o){case"scrollLeft":case"scrollTop":t=0;break;case"scrollPadding":t={top:0,left:0,right:0,bottom:0};break;case"scrollBy":case"scrollTo":case"scrollByPage":case"scrollToPage":case"scrollToElement":t=Promise.resolve()}if(void 0!==t)return n=t,!1}),void 0!==n?n:this}var i={content:">:visible:eq(0)",cancel:"",getWrapperDimension:h,getContentDimension:p,handle:"auto",wheel:!0,hScroll:!0,vScroll:!0,hGlow:!1,vGlow:!1,bounce:!0,hBounce:!0,vBounce:!0,bounceDuration:200,momentum:!0,lockDirection:!0,scrollingClass:"scrolling",scrollableXClass:"scrollable-x",scrollableYClass:"scrollable-y",scrollbar:c,scrollbarClass:"",scrollbarInset:3,scrollbarSize:5,scrollbarStyle:{backgroundColor:"black",opacity:.7},scrollbarTrackStyle:{},glow:u,glowClass:"",glowStyle:{},pageItem:"",pageItemAlign:"center",pageDirection:"auto",snapToPage:!1,sticky:"",stickyHandle:"",stickyToBottom:!1,stickyClass:"sticky",touchMove:null,scrollStart:null,scrollMove:null,scrollStop:null,scrollEnd:null,scrollProgressChange:null};return U.extend(i,o),U.extend(i.scrollbarTrackStyle,{bottom:a(i.scrollbarInset),right:a(i.scrollbarInset)}),U.extend(i.scrollbarStyle,{bottom:0,right:0,minWidth:a(i.scrollbarSize),minHeight:a(i.scrollbarSize)}),i.hBounce=i.bounce&&i.hBounce,i.vBounce=i.bounce&&i.vBounce,this.each(function(){var n,l,X,Y,h,d,R,f,I,c,P=U.extend(!0,{},i),z=U(this),u=U(),p=U(),g=U(),q=P.scrollbar&&P.hScroll&&U(P.scrollbar(z,"x",P)),M=P.scrollbar&&P.vScroll&&U(P.scrollbar(z,"y",P)),A=P.glow&&P.hGlow&&U(P.glow(z,"x",P)).hide(),B=P.glow&&P.vGlow&&U(P.glow(z,"y",P)).hide(),s=!0,W=0,O=0,L=0,$=0,m=0,b=0,v=C,H=C;function w(t){var o="x"===h?["left","right","width"]:["top","bottom","height"],n=g.length,l=dt(z[0]);l[o[0]]-=t||0,l[o[1]]-=t||0;function i(t,e){return e[o[0]]*((n-t)/n)+e[o[1]]*(t/n)}var r,s=(l[o[0]]+l[o[1]])/2,a=1/0;return g.each(function(t,e){e=dt(e);(0|e[o[2]])>(0|l[o[2]])&&(e[o[0]]<s&&e[o[1]]>l[o[1]]||e[o[0]]<0&&e[o[1]]>s)&&(a=0,r=t);e=tt.abs(i(t,e)-i(t,l));e<a&&(a=e,r=t)}),r}function j(t,e,o,n,l,i,r){var s,a,c;"function"==typeof P[t]&&(c=P.pageItem?w():-1,c={type:t,startX:-e,startY:-o,offsetX:-(s=void 0===n?W:n),offsetY:-(a=void 0===l?O:l),deltaX:-i||0,deltaY:-r||0,percentX:X?s/X*100:100,percentY:Y?a/Y*100:100,pageIndex:c,pageItem:g[c]||null},P[t].call(z[0],c)),"scrollMove"===t&&j("scrollProgressChange",e,o,n,l,i,r)}function K(t,e,o){function n(t,e){return{x:0<t?0:t<X?X:S(t),y:0<e?0:e<Y?Y:S(e)}}var l=n(t,e);if(P.pageItem&&P.snapToPage){var i=P.pageItemAlign,r=h,s="x"===r?["left","right","width"]:["top","bottom","height"],a={x:W,y:O};if(l[r]!==a[r]){var c=g.length,t=w(),e=w(l[r]-a[r]),u=dt(z[0]);o&&e===t&&(l[r]<a[r]?t<c-1:0<t)&&((f=dt(g[t]))[s[2]]<u[s[2]]||(l[r]<a[r]?S(f[s[1]])<=u[s[1]]:tt.ceil(f[s[0]])>=u[s[0]]))&&(e+=l[r]<a[r]?1:-1);var d,f=dt(g[e]),c=s[2];switch(f[s[2]]>u[s[2]]?c=l[r]<a[r]^t===e?s[0]:s[1]:i!==s[0]&&i!==s[1]||(c=i),c){case s[0]:d=f[s[0]];break;case s[1]:d=f[s[1]]-u[s[2]];break;default:d=(f[s[0]]+f[s[1]]-u[s[2]])/2}d=S(a[r]+u[s[0]]-d),r=e===t?(l[r]=tt[l[r]<a[r]?"max":"min"](d,l[r]),l[r]===d):(l[r]=d,!0),(l=n(l.x,l.y)).pageChanged=r}}return l}function G(t,e){var o;l=!0,W=S(t),O=S(e),T?u.css(D+"Transform",(t=a(W),e=a(O),F+t+","+e+et)):u.css({left:a(W),top:a(O)}),q&&(o=-W/v.width*100,0<W?q.css({width:J(d.x+o),left:0,right:"auto"}):X<=W?q.css({width:J(d.x),left:J(o),right:"auto"}):q.css({width:J(100-o),left:"auto",right:0}),q.toggle(s&&X<0)),M&&(o=-O/v.height*100,0<O?M.css({height:J(d.y+o),top:0,bottom:"auto"}):Y<=O?M.css({height:J(d.y),top:J(o),bottom:"auto"}):M.css({height:J(100-o),top:"auto",bottom:0}),M.toggle(s&&Y<0)),z.toggleClass(P.scrollableXClass,X<0),z.toggleClass(P.scrollableYClass,Y<0),z.toggleClass(P.scrollableXClass+"-l",W<0),z.toggleClass(P.scrollableXClass+"-r",X<W),z.toggleClass(P.scrollableYClass+"-u",O<0),z.toggleClass(P.scrollableYClass+"-d",Y<O);var i=dt(z[0]),r=$+parseFloat(z.css("padding-top"));p.each(function(t,e){var o,n,l=U(e).data(at);document.body.contains(l)&&document.body.contains(e)&&(o=dt(l),n=dt(e),U(e).css("font-size",U(l).css("font-size")),P.stickyToBottom&&o.top>i.bottom-n.height?U(e).css({position:"absolute",visibility:"visible",top:"auto",bottom:0}):o.top<i.top+r&&o.bottom>i.top+r?U(e).css({position:"absolute",visibility:"visible",top:r-Math.max(0,i.top+r+n.height-o.bottom),bottom:"auto"}):U(e).css({visibility:"hidden"}))}),n.takeRecords(),l=!1}function N(o,n,l,t,i,r){if(I&&I(),b=n,S(m=o)===W&&S(n)===O)return"function"==typeof t&&t(),Promise.resolve();var e=void 0===i;e&&(i=W,r=O);function s(){I=null,lt(c),e&&j("scrollEnd",i,r,W,O),"function"==typeof t&&t(),u()}function a(){var t=+new Date-d;if(l<=t)return G(o,n),j("scrollMove",i,r,o,n,o-W,n-O),void s();var e=t/l-1,t=tt.sqrt(1-e*e);G(e=(o-f)*t+f,t=(n-h)*t+h),j("scrollMove",i,r,e,t,e-W,t-O),c=nt(a)}var c,u,d=+new Date,f=W,h=O,p=new Promise(function(t){u=t});return I=s,e&&j("scrollStart",i,r),a(),p}function y(t,e,o,n,l){Q();l=K(-t||0,-e||0,l);return N(l.x,l.y,+o||0,n)}function V(t,e,o,n){return y((t*H.width||0)-W,(e*H.height||0)-O,o,n,!0)}function x(o,t,e,n,l){if(o=U(o,u)[0]){Q();var i=ct(t),r=ct(e),s=dt(o),a=dt(z[0]),t=s.left*(1-i.percentX)+s.right*i.percentX+i.offsetX-a.left-H.width*r.percentX-r.offsetX-W-L,c=s.top*(1-i.percentY)+s.bottom*i.percentY+i.offsetY-a.top-H.height*r.percentY-r.offsetY-O-$;return p.each(function(t,e){U.contains(U(e).data(at),o)&&(c-=dt(e).height)}),y(tt.round(t),tt.round(c),n||e,l||n)}return Promise.resolve()}function Q(t){var e,o,n,l,i,r,s,a;z.is(":visible")&&(!t||(l=U(P.content,z)[0])&&(l!==u[0]&&(f&&f(),u[0]&&(u[0].scrollableOffsetX=W,u[0].scrollableOffsetY=O),k.splice.call(u,0,1,l),"static"===u.css("position")&&u.css("position","relative"),"auto"===u.css("z-index")&&u.css("z-index",0),W=l.scrollableOffsetX||0,O=l.scrollableOffsetY||0),n=U(p),p=U(P.sticky,l).map(function(t,e){var o,n=U(e).data();return n.stickyNote||(n.stickyNote=((e=U((o=e).cloneNode(!1)).append(U(P.stickyHandle,o).clone()).addClass(P.stickyClass).data(at,o)).click(function(){x(o,"left top",200)}),e[0]))}),n.not(p).remove(),p.appendTo(z),g=P.pageItem?U(P.pageItem,l):U()),e=X,o=Y,u[t=i=0]&&(n=u.parentsUntil(z).filter(function(t,e){return"visible"!==U(e).css("overflow")}),a=dt(z[0]),r=dt(u[0]),L=r.left-a.left-W,$=r.top-a.top-O,n[0]&&(l=dt(n[0]),i=a.right-l.right-parseFloat(z.css("padding-right"))+parseFloat(n.css("padding-right")),t=a.bottom-l.bottom-parseFloat(z.css("padding-bottom"))+parseFloat(n.css("padding-bottom")))),v=U.extend({},C,P.getContentDimension(u)),H=U.extend({},C,P.getWrapperDimension(z)),X=P.hScroll?tt.min(0,S(H.width-v.width-L-i+parseFloat(z.css("padding-left"))+parseFloat(z.css("border-left-width")))):0,Y=P.vScroll?tt.min(0,S(H.height-v.height-$-t+parseFloat(z.css("padding-top"))+parseFloat(z.css("border-top-width")))):0,d={x:100*(1+X/v.width)||0,y:100*(1+Y/v.height)||0},h="x"===P.pageDirection||"y"===P.pageDirection?P.pageDirection:X&&Y&&g[1]?(a=dt(g[0]),(s=((r=dt(g[1])).left+r.right)/2)>a.right||s<a.left?"x":"y"):Y?"y":"x",Z&&Z!==z||W<X||O<Y?(f&&f(),a=K(r=W,s=O),j("scrollStart",r,s),G(a.x,a.y),m=W,b=O,j("scrollMove",r,s),j("scrollEnd",r,s)):(G(W,O),e===X&&o===Y||j("scrollProgressChange",W,O)))}function t(t){var e=t.originalEvent.touches,h=e&&(e[0].touchType||!0),o=P.handle,n=h?"touchmove":"mousemove",l=h?"touchend":"mouseup",i=h?"touchcancel":"mouseup";if("auto"===o&&(o=h?"content":"scrollbar"),!h&&1!==t.which||h&&1!==e.length||U(t.target).is(P.cancel)||U(P.cancel,z).has(t.target).length)2===t.which&&t.preventDefault();else if(!U(t.target).is(":text")){Q();var p,g,r=ut(t),s=+new Date,m=W,b=O,v=0,w=0,y=r.x,x=r.y,C=y,S=x,a=t.target,c={},k=!1,D=!1,T=1;if(h&&1===e.length)R=r;else if(!h&&R&&r.x===R.x&&r.y===x)return;if("scrollbar"===o||"both"===o){var u=q&&X<0&&ft(q,5,r,!1);switch(u){case 1:case-1:return t.preventDefault(),void V(u,0,100);case 2:g=!(p=!0),T=-100/d.x*(1-L/H.width);break;default:switch(u=M&&Y<0&&ft(M,5,r,!0)){case 1:case-1:return t.preventDefault(),void V(0,u,100);case 2:g=p=!0,T=-100/d.y*(1-$/H.height)}}}(h||"scrollbar"!==o||p)&&(h||t.preventDefault(),p&&(Z=Z||z),I&&I(),c[n]=function(t){if(R=null,!(Z&&Z!==z||D)){var e=ut(t),o=e.x-y,n=e.y-x,l=o,i=n,r=m+(e.x-C)*T,s=b+(e.y-S)*T,a=tt.abs(e.x-C),c=tt.abs(e.y-S),u=a/c<1,d=P.hBounce&&!p,f=P.vBounce&&!p;if(!(!o&&!n||!k&&"stylus"===h&&a<10&&c<10)){if(t.preventDefault(),y=e.x,x=e.y,!p&&void 0===g){if(!h&&a<6&&c<6||!P.vScroll&&u||!P.hScroll&&!u)return;if(pt(t.target,z[0],o,n))return void F(t);if((u&&!Y||!u&&!X)&&(pt(z[0],document.body,o,n)||z.parents().filter(function(t,e){return U(e).data(st)})[0]))return void F(t)}if(void 0===g&&(g=u),Z=Z||z,k||(k=!0,h||it.appendTo(z),j("scrollStart",m,b)),(!P.vScroll||!p&&P.lockDirection&&c+6<=a||p&&!g)&&(s=O,n=0,P.vScroll&&(i=0)),(!P.hScroll||!p&&P.lockDirection&&a+6<=c||p&&g)&&(r=W,o=0,P.hScroll&&(l=0)),0<r||r<X?(r=d?W+o/2:0<r?0:X,d||(v=tt.max(0,100-tt.abs(v))*((v||o)/tt.abs(v||o))/2+v)):r!==W&&(d||(v/=4)),0<s||s<Y?(s=f?O+n/2:0<s?0:Y,f||(w=tt.max(0,100-tt.abs(w))*((w||n)/tt.abs(w||n))/2+w)):s!==O&&(f||(w/=4)),P.pageItem&&P.snapToPage){var f=K(r,s,!0),r=f.x,s=f.y;if(f.pageChanged)return N(r,s,P.bounceDuration,E,m,b),void(D=!0)}j("touchMove",m,b,r,s,l,i),r===W&&s===O||(j("scrollMove",m,b,r,s,o,n),G(r,s)),r=v,s=w,A&&(0<r?A.css({width:J(r)}).fadeIn().parent().css({left:0,right:"auto"}):r<0?A.css({width:J(-r)}).fadeIn().parent().css({left:"auto",right:0}):A.css({width:0}).fadeOut(),A.parent().toggleClass(P.glowClass+"-x-l",0<r),A.parent().toggleClass(P.glowClass+"-x-r",r<0)),B&&(0<s?B.css({height:J(s)}).fadeIn().parent().css({top:0,bottom:"auto"}):s<0?B.css({height:J(-s)}).fadeIn().parent().css({top:"auto",bottom:0}):B.css({height:0}).fadeOut(),B.parent().toggleClass(P.glowClass+"-y-u",0<s),B.parent().toggleClass(P.glowClass+"-y-d",s<0))}}},c[l]=F,c[i]=F,U(document).on(c),f=function(){f=null,I&&I(),F({})},a.setCapture&&a.setCapture(),z.addClass(P.scrollingClass))}function E(){k&&j("scrollEnd",m,b),z.removeClass(P.scrollingClass)}function F(t){var e,o,n,l;Z===z&&(Z=null),U(document).off(c),a.releaseCapture&&a.releaseCapture(),k?(h||(t.target===a&&window.addEventListener&&window.addEventListener("click",function t(e){e.stopImmediatePropagation(),e.preventDefault(),window.removeEventListener("click",t,!0)},!0),it.detach()),j("scrollStop",m,b),A&&A.fadeOut(),B&&B.fadeOut(),D?E():(n=+new Date-s,o=e=_,P.momentum&&n<300&&!p&&(e=ht(W-m,n,m<W?-W:W-X,P.bounce&&H.width),o=ht(O-b,n,b<O?-O:O-Y,P.bounce&&H.height)),l=W+e.dist,t=O+o.dist,P.pageItem&&P.snapToPage&&(l=(n=K(l,t,!0)).x,t=n.y),N(l,t,tt.max(e.time,o.time),function(){var t,e;t=E,N((e=K(W,O)).x,e.y,P.bounceDuration,t,m,b)},m,b))):E()}}U.inArray(rt,this)<0&&rt.splice(0,0,this);var e={};e.touchstart=t,e.mousedown=t,e[ot]=function(t){var e=t.originalEvent,o=0,n=0,l=P.hScroll&&X,i=P.vScroll&&Y;if(!(!P.wheel||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||t.isDefaultPrevented())&&(void 0!==e.deltaX?(o=-e.deltaX,n=-e.deltaY):void 0!==e.wheelDeltaX?(o=e.wheelDeltaX,n=e.wheelDeltaY):void 0!==e.wheelDelta?n=e.wheelDelta:void 0!==e.detail&&(n=-e.detail),(o||n)&&!pt(t.target,z[0],o,n))){if(E){if(r=tt.abs(n)>tt.abs(o),!l&&!r||!i&&r)return}else l||o||(o=n);o*=P.hScroll,n*=P.vScroll,Q();var r,e=t.timeStamp,s=W,a=O;!c||100<e-c.timestamp?(c={startX:s,startY:a},f||j("scrollStart",s,a),f=function(){clearTimeout(c.timeout),c.cancelled=!0,f=null,I&&I(),j("scrollStop",s,a),j("scrollEnd",s,a)}):(s=c.startX,a=c.startY),c.timestamp=e,c.cancelled||(r=(i=K(W+o,O+n,!0)).x,l=i.y,r===W&&l===O||(e=function(){z.removeClass(P.scrollingClass),j("scrollStop",s,a),j("scrollEnd",s,a),f=c=null},z.addClass(P.scrollingClass),i.pageChanged?N(r,l,P.bounceDuration,e,s,a):(clearTimeout(c.timeout),c.timeout=setTimeout(e,200),j("scrollMove",s,a,r,l,o,n),G(r,l),m=r,b=l,(X<0||Y<0)&&t.cancelable&&t.preventDefault()),t.stopPropagation()))}},e.transitionend=function(){Q()},e.animationend=function(){Q()},e.focusin=function(t){var e=z[0].scrollTop,o=z[0].scrollLeft;(e||o)&&(z[0].scrollTop=0,z[0].scrollLeft=0,y(o-W,e-O,0))},e.keydown=function(t){var e=t.keyCode;if(!(t.isDefaultPrevented()||U(document.activeElement).is("select,button,input,textarea")&&33!==e&&34!==e))switch(e){case 32:case 33:case 34:y(-W,H.height*(33===e?-.8:.8)-O,50),t.preventDefault();break;case 37:case 38:case 39:case 40:y((37===e?-50:39===e?50:0)-W,(38===e?-50:40===e?50:0)-O,50),t.preventDefault()}},z.on(e),q&&"content"===P.handle&&q.css("pointer-events","none"),M&&"content"===P.handle&&M.css("pointer-events","none"),"hidden"!==z.css("overflow")&&"visible"!==z.css("overflow")&&z.css("overflow","hidden"),r&&z.css("touch-action","none"),window.MutationObserver?(n=new MutationObserver(function(){!l&&s&&Q(!0)})).observe(z[0],{subtree:!0,childList:!0,attributes:!0,characterData:!0}):n={takeRecords:function(){}},z.data(st,{destroy:function(){G(0,0),rt.splice(U.inArray(z[0],rt),1),z.off(e),q&&q.remove(),M&&M.remove(),Q=function(){},s=!(P={}),z.data(st,null),z.splice(0,1),u.splice(0,1),n.disconnect&&n.disconnect()},enable:function(){s||(z.on(e),s=!0,Q())},disable:function(){s&&(z.off(e),q&&q.hide(),M&&M.hide(),s=!1)},setOptions:function(t){U.extend(P,t),Q(!0)},refresh:function(){Q(!0)},scrollPadding:function(){return{top:$,left:L,right:q?P.scrollbarSize+2*P.scrollbarInset:0,bottom:M?P.scrollbarSize+2*P.scrollbarInset:0}},stop:function(){f&&f(),m=W,b=O},scrollLeft:function(){return-m},scrollTop:function(){return-b},scrollBy:function(t,e,o,n){return y((t||0)-W,(e||0)-O,o,n)},scrollTo:function(t,e,o,n){return y(t,e,o,n)},scrollByPage:V,scrollToPage:function(t,e,o,n){return y(t*H.width||0,e*H.height,o,n)},scrollToElement:x}),Q(!0)})},U.scrollable=function(t,e){return"object"==typeof e&&U(t).scrollable(e),U.data(t,st)},U(window).on("orientationchange resize",function(){clearTimeout(t),t=setTimeout(function(){rt.scrollable("refresh")},n?200:0)}),U(window).on(ot,function t(e){0<e.originalEvent.deltaX&&(E=!0,U(window).off(ot,t))}),U(window).on("keydown",function(t){if(!t.isDefaultPrevented())switch(t.keyCode){case 32:case 33:case 34:case 37:case 38:case 39:case 40:rt.length&&U(U.uniqueSort(rt)).eq(0).triggerHandler(t)}});try{window.top!==window.self&&U(window.top).on("mouseenter",function(){U(document).trigger("mouseup")})}catch(t){}});